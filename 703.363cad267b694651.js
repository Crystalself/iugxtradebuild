"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[703],{5703:(vt,C,u)=>{u.r(C),u.d(C,{AuthModule:()=>kt});var f=u(6814),l=u(2098),t=u(5879);let P=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-auth"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},dependencies:[l.lC],encapsulation:2}),r})();var _=u(5861),n=u(95),p=u(5612),Z=u(4469),w=u(5409),h=u(7124),b=u(7911),d=u(1941),x=u(2032);function q(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email address is required. "),t.qZA())}function A(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Wrong Email format. "),t.qZA())}function U(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email should has at most 255 character. "),t.qZA())}function I(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password is required. "),t.qZA())}function Y(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password should be at least 8 character. "),t.qZA())}function O(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password should has at most 100 character. "),t.qZA())}let M=(()=>{class r{constructor(e,o,a,s,c,m){this.fb=e,this.formValidation=o,this.req=a,this.router=s,this.customerService=c,this.toast=m,this.submitted=!1,this.formGroup=e.group({email:["",n.kI.compose([n.kI.required,n.kI.email,n.kI.maxLength(255)])],password:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])]})}login(){var e=this;return(0,_.Z)(function*(){if(e.formGroup.markAllAsTouched(),e.formGroup.invalid)return;e.submitted=!0;const{response:o,status:a}=yield e.req.send(p.m.customerLogin,p.Y.POST,e.formGroup.value);e.submitted=!1,a?(e.customerService.refreshUser(o.data,!0),e.toast.show("Success","success"),yield e.router.navigateByUrl("/")):e.toast.show(o.message)})()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(n.qu),t.Y36(Z.m),t.Y36(w.f),t.Y36(l.F0),t.Y36(h.v),t.Y36(b.k))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:48,vars:8,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","800px"],[1,"d-flex","py-2","flex-column","align-items-center","h-100","justify-content-center","text-center"],[1,"mb-4","mt-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form",3,"formGroup"],[1,"p-4"],[1,"w-100"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","password"],[1,"text-start","mb-3"],["routerLink","/client/auth/request-password",1,"text","text-white","text-decoration-none"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"disabled","click"],[1,"d-flex","justify-content-center","w-100"],[1,"font-16","font-w-400",2,"color","#F3F3F3"],[1,"d-flex","justify-content-center","w-100","mb-4",2,"max-width","472px"],[1,"btn","btn-light","me-2","w-100","font-w-700","Raleway"],["ngSrc","assets/icons/google.svg","alt","Google login ","height","24","width","24"],[1,"btn","btn-primary","font-w-700","w-100","Raleway","d-flex","align-items-center","justify-content-center"],["ngSrc","assets/icons/facebook.svg","alt","Facebook login ","height","24","width","24"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-start","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/register",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h1",5),t._uU(6,"Welcome Back!"),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"Please, fill the following information to access your account!"),t.qZA()(),t.TgZ(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"Email Address"),t.qZA(),t._UZ(14,"input",10),t.YNc(15,q,2,0,"mat-error",11),t.YNc(16,A,2,0,"mat-error",11),t.YNc(17,U,2,0,"mat-error",11),t.qZA(),t.TgZ(18,"mat-form-field",9)(19,"mat-label"),t._uU(20,"Your Password"),t.qZA(),t._UZ(21,"input",12),t.YNc(22,I,2,0,"mat-error",11),t.YNc(23,Y,2,0,"mat-error",11),t.YNc(24,O,2,0,"mat-error",11),t.qZA(),t.TgZ(25,"div",13)(26,"a",14),t._uU(27,"Forgot your password?"),t.qZA()(),t.TgZ(28,"button",15),t.NdJ("click",function(){return o.login()}),t._uU(29,"Login"),t.qZA()()(),t.TgZ(30,"div",16)(31,"p",17),t._uU(32,"Or Continue with"),t.qZA()(),t.TgZ(33,"div",18)(34,"button",19),t._UZ(35,"img",20),t._uU(36," Google "),t.qZA(),t.TgZ(37,"button",21),t._UZ(38,"img",22),t._uU(39," Facebook "),t.qZA()(),t.TgZ(40,"div",23)(41,"div",24)(42,"p",25),t._uU(43,"Don't have an account?"),t.qZA()(),t.TgZ(44,"div",26)(45,"button",27),t._uU(46,"Register Now"),t.qZA()()(),t._UZ(47,"hr",28),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.formGroup),t.xp6(6),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"email")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("email",o.formGroup,"email")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"email")),t.xp6(5),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"password")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("minlength",o.formGroup,"password")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"password")),t.xp6(4),t.Q6J("disabled",o.submitted))},dependencies:[f.O5,l.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,d.KE,d.hX,d.TO,x.Nt,f.Zd],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.custom-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}"]}),r})();function J(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email address is required. "),t.qZA())}function G(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Wrong Email format. "),t.qZA())}function R(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email should has at most 255 character. "),t.qZA())}function F(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password is required. "),t.qZA())}function N(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password should be at least 8 character. "),t.qZA())}function S(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password should has at most 100 character. "),t.qZA())}function E(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Confirm Password is required. "),t.qZA())}function B(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Confirm Password should be at least 8 character. "),t.qZA())}function Q(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Confirm Password should has at most 100 character. "),t.qZA())}function L(r,i){1&r&&(t.TgZ(0,"mat-hint",29),t._uU(1,"Passwords Mismatch. "),t.qZA())}let H=(()=>{class r{constructor(e,o,a,s,c,m){this.fb=e,this.formValidation=o,this.req=a,this.router=s,this.customerService=c,this.toast=m,this.submitted=!1,this.formGroup=e.group({email:["",n.kI.compose([n.kI.required,n.kI.email,n.kI.maxLength(255)])],password:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])],confirmPassword:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])]})}passwordsMatch(){const e=this.formGroup.get("password")?.value,o=this.formGroup.get("confirmPassword")?.value;return e===o}register(){var e=this;return(0,_.Z)(function*(){if(e.formGroup.markAllAsTouched(),e.formGroup.invalid||!e.passwordsMatch())return;e.submitted=!0;const{response:o,status:a}=yield e.req.send(p.m.customerRegister,p.Y.POST,e.formGroup.value);e.submitted=!1,a?(e.customerService.refreshUser(o.data,!0),e.toast.show("Success","success"),yield e.router.navigateByUrl("/client/auth/kyc")):e.toast.show(o.message)})()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(n.qu),t.Y36(Z.m),t.Y36(w.f),t.Y36(l.F0),t.Y36(h.v),t.Y36(b.k))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-register"]],decls:53,vars:12,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","900px"],[1,"d-flex","py-4","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4","mt-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"p-4"],[1,"w-100","mb-2"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","password"],["type","password","matInput","","placeholder","**********","formControlName","confirmPassword"],["class","p-0 m-0 text-start","style","color: #f44336",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"disabled","click"],[1,"d-flex","justify-content-center","w-100"],[1,"font-16","font-w-400",2,"color","#F3F3F3"],[1,"d-flex","justify-content-center","w-100",2,"max-width","472px"],[1,"btn","btn-light","me-2","w-100","font-w-700","Raleway"],["ngSrc","assets/icons/google.svg","alt","Google login ","height","24","width","24"],[1,"btn","btn-primary","font-w-700","w-100","Raleway","d-flex","align-items-center","justify-content-center"],["ngSrc","assets/icons/facebook.svg","alt","Facebook login ","height","24","width","24"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2",2,"max-width","472px"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/login",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"],[1,"p-0","m-0","text-start",2,"color","#f44336"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h1",5),t._uU(6,"Create New Account!"),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"Please, fill the following information to create new account!"),t.qZA()(),t.TgZ(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"Email Address"),t.qZA(),t._UZ(14,"input",10),t.YNc(15,J,2,0,"mat-error",11),t.YNc(16,G,2,0,"mat-error",11),t.YNc(17,R,2,0,"mat-error",11),t.qZA(),t.TgZ(18,"mat-form-field",9)(19,"mat-label"),t._uU(20,"Your Password"),t.qZA(),t._UZ(21,"input",12),t.YNc(22,F,2,0,"mat-error",11),t.YNc(23,N,2,0,"mat-error",11),t.YNc(24,S,2,0,"mat-error",11),t.qZA(),t.TgZ(25,"mat-form-field",9)(26,"mat-label"),t._uU(27,"Confirm Your Password"),t.qZA(),t._UZ(28,"input",13),t.YNc(29,E,2,0,"mat-error",11),t.YNc(30,B,2,0,"mat-error",11),t.YNc(31,Q,2,0,"mat-error",11),t.YNc(32,L,2,0,"mat-hint",14),t.qZA(),t.TgZ(33,"button",15),t.NdJ("click",function(){return o.register()}),t._uU(34,"Register"),t.qZA()()(),t.TgZ(35,"div",16)(36,"p",17),t._uU(37,"Or Continue with"),t.qZA()(),t.TgZ(38,"div",18)(39,"button",19),t._UZ(40,"img",20),t._uU(41," Google "),t.qZA(),t.TgZ(42,"button",21),t._UZ(43,"img",22),t._uU(44," Facebook "),t.qZA()(),t.TgZ(45,"div",23)(46,"div",24)(47,"p",25),t._uU(48,"Already have an account?"),t.qZA()(),t.TgZ(49,"div",26)(50,"button",27),t._uU(51,"Login Now"),t.qZA()()(),t._UZ(52,"hr",28),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.formGroup),t.xp6(6),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"email")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("email",o.formGroup,"email")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"email")),t.xp6(5),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"password")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("minlength",o.formGroup,"password")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"password")),t.xp6(5),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("minlength",o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("ngIf",!o.passwordsMatch()&&o.formValidation.isControlValid(o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("disabled",o.submitted))},dependencies:[f.O5,l.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,d.KE,d.hX,d.bx,d.TO,x.Nt,f.Zd],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.custom-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}"]}),r})();function V(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email address is required. "),t.qZA())}function D(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Wrong Email format. "),t.qZA())}function j(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Email should has at most 255 character. "),t.qZA())}let K=(()=>{class r{constructor(e,o,a,s,c){this.fb=e,this.formValidation=o,this.req=a,this.router=s,this.toast=c,this.submitted=!1,this.formGroup=e.group({email:["",n.kI.compose([n.kI.required,n.kI.email,n.kI.maxLength(255)])]})}requestPassword(){var e=this;return(0,_.Z)(function*(){if(e.formGroup.markAllAsTouched(),e.formGroup.invalid)return;e.submitted=!0;const{response:o,status:a}=yield e.req.send(p.m.customerRequestPassword,p.Y.POST,e.formGroup.value);e.submitted=!1,a?(e.toast.show(o.message,"success"),yield e.router.navigate(["/customer/auth/verify-otp"],{queryParams:{email:e.formGroup.get("email")?.value}})):e.toast.show(o.message)})()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(n.qu),t.Y36(Z.m),t.Y36(w.f),t.Y36(l.F0),t.Y36(b.k))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-request-password"]],decls:28,vars:5,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","700px"],[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center","h-100"],[1,"mb-4","mt-4"],["src","assets/icons/btc.svg","alt","Btc login "],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form",3,"formGroup"],[1,"p-4"],[1,"w-100","mb-2"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"disabled","click"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2",2,"max-width","472px"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-start","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/login",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h1",5),t._uU(6,"Recover Your Password"),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"Use your email address to recover your password!"),t.qZA()(),t.TgZ(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),t._uU(13,"Email Address"),t.qZA(),t._UZ(14,"input",10),t.YNc(15,V,2,0,"mat-error",11),t.YNc(16,D,2,0,"mat-error",11),t.YNc(17,j,2,0,"mat-error",11),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return o.requestPassword()}),t._uU(19,"Recover My Password"),t.qZA()()(),t.TgZ(20,"div",13)(21,"div",14)(22,"p",15),t._uU(23,"Remember your password?"),t.qZA()(),t.TgZ(24,"div",16)(25,"button",17),t._uU(26,"Back to login"),t.qZA()()(),t._UZ(27,"hr",18),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.formGroup),t.xp6(6),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"email")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("email",o.formGroup,"email")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"email")),t.xp6(1),t.Q6J("disabled",o.submitted))},dependencies:[f.O5,l.rH,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,d.KE,d.hX,d.TO,x.Nt],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.custom-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}"]}),r})();function z(r,i){if(1&r){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",17)(2,"mat-form-field",18)(3,"input",19),t.NdJ("input",function(a){const c=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onInput(a,c))})("keydown.backspace",function(a){const c=t.CHM(e).$implicit,m=t.oxw();return t.KtG(m.onBackSpace(a,c))}),t.qZA()()(),t.BQk()}if(2&r){const e=i.$implicit;t.xp6(3),t.Q6J("id","inputRef"+e)}}const X=function(){return[1,2,3,4]};let W=(()=>{class r{constructor(e,o,a,s,c){this.customerService=e,this.req=o,this.route=a,this.router=s,this.toast=c,this.otp=[],this.submitted=!1,this.email=""}ngOnInit(){this.email=this.route.snapshot.queryParams.email,this.email||this.router.navigateByUrl("/").then()}onInput(e,o){const a=e.target.value;if(isNaN(Number(a)))return void(e.target.value="");this.otp[o-1]=a;const s=document.getElementById("inputRef"+(o+1));a&&s&&s.focus()}onBackSpace(e,o){const a=e.target.value;if(this.otp[o-1]=a,o>1&&!a){e.preventDefault();const s=document.getElementById("inputRef"+(o-1));s&&s.focus()}}checkOTP(){var e=this;return(0,_.Z)(function*(){const o=e.otp.join("");if(4!==o.length||!e.email)return;e.submitted=!0;const{response:a,status:s}=yield e.req.send(p.m.customerCheckOTP,p.Y.POST,{email:e.email,otp:o});if(e.submitted=!1,s)e.toast.show(a.message,"success"),yield e.router.navigate(["/customer/auth/update-password"],{queryParams:{email:e.email,otp:o}});else{const c=e.customerService.checkAuthorization(a.message);e.toast.show(c)}})()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(h.v),t.Y36(w.f),t.Y36(l.gz),t.Y36(l.F0),t.Y36(b.k))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-password-otp"]],decls:22,vars:3,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","700px"],[1,"d-flex","py-2","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4","mt-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form","p-4",2,"max-width","500px"],[1,"row"],[4,"ngFor","ngForOf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"disabled","click"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2",2,"max-width","472px"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-start","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/login",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"],[1,"col-3"],[1,"w-75"],["matInput","","type","text","maxlength","1","placeholder","__",1,"text-center",3,"id","input","keydown.backspace"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h1",5),t._uU(6,"Enter OTP"),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"We\u2019ve sent you 4-digits OTP to your email, please fill it here."),t.qZA()(),t.TgZ(9,"form",7)(10,"div",8),t.YNc(11,z,4,1,"ng-container",9),t.qZA(),t.TgZ(12,"button",10),t.NdJ("click",function(s){return s.preventDefault(),o.checkOTP()}),t._uU(13,"Recover My Password"),t.qZA()(),t.TgZ(14,"div",11)(15,"div",12)(16,"p",13),t._uU(17,"Remember your password?"),t.qZA()(),t.TgZ(18,"div",14)(19,"button",15),t._uU(20,"Back to login"),t.qZA()()(),t._UZ(21,"hr",16),t.qZA()()()),2&e&&(t.xp6(11),t.Q6J("ngForOf",t.DdM(2,X)),t.xp6(1),t.Q6J("disabled",o.submitted))},dependencies:[f.sg,l.rH,n._Y,n.JL,d.KE,x.Nt,f.Zd],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.custom-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}"]}),r})();function $(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password is required. "),t.qZA())}function tt(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password should be at least 8 character. "),t.qZA())}function et(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Password should has at most 100 character. "),t.qZA())}function ot(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Confirm Password is required. "),t.qZA())}function rt(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Confirm Password should be at least 8 character. "),t.qZA())}function nt(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Confirm Password should has at most 100 character. "),t.qZA())}function at(r,i){1&r&&(t.TgZ(0,"mat-hint",14),t._uU(1,"Passwords Mismatch. "),t.qZA())}let it=(()=>{class r{constructor(e,o,a,s,c,m,g){this.fb=e,this.route=o,this.formValidation=a,this.req=s,this.router=c,this.customerService=m,this.toast=g,this.submitted=!1,this.formGroup=e.group({email:["",n.kI.compose([n.kI.required,n.kI.email,n.kI.maxLength(255)])],otp:["",n.kI.compose([n.kI.required,n.kI.maxLength(4)])],password:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])],confirmPassword:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])]})}ngOnInit(){const{email:e,otp:o}=this.route.snapshot.queryParams;(!e||!o)&&this.router.navigateByUrl("/").then(),this.formGroup.patchValue(this.route.snapshot.queryParams)}passwordsMatch(){const e=this.formGroup.get("password")?.value,o=this.formGroup.get("confirmPassword")?.value;return e===o}updatePassword(){var e=this;return(0,_.Z)(function*(){if(e.formGroup.markAllAsTouched(),e.formGroup.invalid||!e.passwordsMatch())return;e.submitted=!0;const{response:o,status:a}=yield e.req.send(p.m.customerUpdatePassword,p.Y.POST,e.formGroup.value);e.submitted=!1,a?(e.toast.show(o.message,"success"),yield e.router.navigateByUrl("/client/auth/login")):e.toast.show(o.message)})()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(n.qu),t.Y36(l.gz),t.Y36(Z.m),t.Y36(w.f),t.Y36(l.F0),t.Y36(h.v),t.Y36(b.k))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-update-password"]],decls:29,vars:9,consts:[[1,"background-custom"],[1,"container","auth-pt"],[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4"],["src","assets/icons/btc.svg","alt","Btc login "],[1,"mb-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"p-4"],[1,"w-100"],["type","password","matInput","","placeholder","**********","formControlName","password"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","confirmPassword"],["class","p-0 m-0 text-start","style","color: #f44336",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100",3,"disabled","click"],[1,"mt-5",2,"height","120px"],[1,"p-0","m-0","text-start",2,"color","#f44336"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h1"),t._uU(6,"Create New Password"),t.qZA(),t.TgZ(7,"p"),t._uU(8,"Well done! Create new password for your account."),t.qZA()(),t.TgZ(9,"form",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),t._uU(13,"New Password"),t.qZA(),t._UZ(14,"input",8),t.YNc(15,$,2,0,"mat-error",9),t.YNc(16,tt,2,0,"mat-error",9),t.YNc(17,et,2,0,"mat-error",9),t.qZA(),t.TgZ(18,"mat-form-field",7)(19,"mat-label"),t._uU(20,"Confirm New Password"),t.qZA(),t._UZ(21,"input",10),t.YNc(22,ot,2,0,"mat-error",9),t.YNc(23,rt,2,0,"mat-error",9),t.YNc(24,nt,2,0,"mat-error",9),t.YNc(25,at,2,0,"mat-hint",11),t.qZA(),t.TgZ(26,"button",12),t.NdJ("click",function(){return o.updatePassword()}),t._uU(27,"Confirm"),t.qZA()()(),t._UZ(28,"div",13),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("formGroup",o.formGroup),t.xp6(6),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"password")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("minlength",o.formGroup,"password")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"password")),t.xp6(5),t.Q6J("ngIf",o.formValidation.controlHasError("required",o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("minlength",o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("ngIf",o.formValidation.controlHasError("maxlength",o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("ngIf",!o.passwordsMatch()&&o.formValidation.isControlValid(o.formGroup,"confirmPassword")),t.xp6(1),t.Q6J("disabled",o.submitted))},dependencies:[f.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,d.KE,d.hX,d.bx,d.TO,x.Nt],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.custom-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}"]}),r})();var T=u(3946);const st=["videoPlayer"];function ct(r,i){if(1&r&&t._UZ(0,"img",6),2&r){const e=t.oxw();t.Q6J("src",e.selfieBase64,t.LSH)}}function mt(r,i){1&r&&t._UZ(0,"video",7,8)}function lt(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(a){t.CHM(e);const s=t.oxw();return a.preventDefault(),t.KtG(s.captureImage())}),t._uU(1,"Take Selfie"),t.qZA()}}function ut(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"div",10)(1,"button",11),t.NdJ("click",function(a){t.CHM(e);const s=t.oxw();return a.preventDefault(),t.KtG(s.attachImage())}),t._uU(2,"Attache This"),t.qZA(),t.TgZ(3,"button",12),t.NdJ("click",function(a){t.CHM(e);const s=t.oxw();return a.preventDefault(),t.KtG(s.takeSelfie())}),t._UZ(4,"img",13),t._uU(5," Retake"),t.qZA()()}}let dt=(()=>{class r{constructor(e){this.modal=e,this.selfieBase64="",this.showCamera=!1}ngAfterViewInit(){setTimeout(()=>{this.takeSelfie()},0)}takeSelfie(){this.showCamera=!0,navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(e=>{const o=this.videoPlayer.nativeElement;this.videoStream=e,o.srcObject=this.videoStream}).catch(e=>{console.error("Error accessing camera:",e),this.showCamera=!1})}captureImage(){const e=this.videoPlayer.nativeElement,o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.videoWidth,o.height=e.videoHeight,a?.drawImage(e,0,0,e.videoWidth,e.videoHeight),this.selfieBase64=o.toDataURL("image/jpeg"),this.showCamera=!1}attachImage(){this.closeStream(),this.modal.close(this.selfieBase64)}closeStream(){this.videoStream&&this.videoStream.getTracks().forEach(o=>{o.stop()})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(T.Kz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-take-selfie"]],viewQuery:function(e,o){if(1&e&&t.Gf(st,5),2&e){let a;t.iGM(a=t.CRH())&&(o.videoPlayer=a.first)}},decls:6,vars:4,consts:[[1,"modal-body"],[1,"d-flex","flex-column","w-100","h-100","position-relative","align-items-center","justify-content-center"],["alt","id image","class","w-100 h-100 align-self-center",3,"src",4,"ngIf"],["autoplay","","class","w-100 h-100 align-self-center",4,"ngIf"],["class","btn green-btn text-dark font-16 Raleway font-w-700 position-absolute take-selfie","style","width: calc(100% - 48px)",3,"click",4,"ngIf"],["class","d-flex flex-row gap-2 position-absolute take-selfie","style","width: calc(100% - 48px)",4,"ngIf"],["alt","id image",1,"w-100","h-100","align-self-center",3,"src"],["autoplay","",1,"w-100","h-100","align-self-center"],["videoPlayer",""],[1,"btn","green-btn","text-dark","font-16","Raleway","font-w-700","position-absolute","take-selfie",2,"width","calc(100% - 48px)",3,"click"],[1,"d-flex","flex-row","gap-2","position-absolute","take-selfie",2,"width","calc(100% - 48px)"],[1,"btn","green-btn","text-dark","font-20","Raleway","font-w-700",2,"width","60%",3,"click"],[1,"btn","retake-btn","text-white","font-20","Raleway","font-w-400","text-nowrap","border-0",2,"width","40%",3,"click"],["ngSrc","assets/icons/camera.svg","alt","camera","height","24","width","24"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,ct,1,1,"img",2),t.YNc(3,mt,2,0,"video",3),t.YNc(4,lt,2,0,"button",4),t.YNc(5,ut,6,0,"div",5),t.qZA()()),2&e&&(t.xp6(2),t.Q6J("ngIf",!o.showCamera&&o.selfieBase64),t.xp6(1),t.Q6J("ngIf",o.showCamera),t.xp6(1),t.Q6J("ngIf",o.showCamera),t.xp6(1),t.Q6J("ngIf",!o.showCamera&&o.selfieBase64))},dependencies:[f.O5,f.Zd],styles:[".green-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.green-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.take-selfie[_ngcontent-%COMP%]{bottom:24px;left:24px}.retake-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2150}.retake-btn[_ngcontent-%COMP%]:active{background:rgba(47,33,80,.5647058824)}@media (max-width: 380px){.font-20[_ngcontent-%COMP%]{font-size:16px}}"]}),r})();function pt(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(a){t.CHM(e),t.oxw();const s=t.MAs(12);return a.preventDefault(),t.KtG(s.click())}),t._UZ(1,"img",21),t.TgZ(2,"p"),t._uU(3,"Click to Upload Your ID"),t.qZA()()}}function ft(r,i){if(1&r&&(t.TgZ(0,"div",22),t._UZ(1,"img",23),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.idImageBase64,t.LSH)}}function gt(r,i){if(1&r){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(a){t.CHM(e);const s=t.oxw();return a.preventDefault(),t.KtG(s.openSelfieModal())}),t._UZ(1,"img",24),t.TgZ(2,"p"),t._uU(3,"Click to Take Selfie Picture"),t.qZA()()}}function ht(r,i){if(1&r&&(t.TgZ(0,"div",22),t._UZ(1,"img",25),t.qZA()),2&r){const e=t.oxw();t.xp6(1),t.Q6J("src",e.selfieBase64,t.LSH)}}let _t=(()=>{class r{constructor(e,o,a,s,c){this.modalService=e,this.req=o,this.customerService=a,this.toast=s,this.router=c,this.idImageBase64="",this.selfieBase64="",this.submitted=!1}uploadImage(e){try{if(0===e.target.files.length)return;const o=e.target.files[0];if(null==o.type.match(/image\/*/))return;const s=new FileReader;s.readAsDataURL(o),s.onload=c=>{s.result&&(this.idImageBase64=s.result.toString())}}catch(o){console.error(o)}}openSelfieModal(){this.modalService.open(dt,{size:"lg",windowClass:"modal-bg",backdrop:!1}).result.then(o=>{this.selfieBase64=o})}submitKYC(){var e=this;return(0,_.Z)(function*(){if(!e.selfieBase64||!e.idImageBase64)return;const{email:o}=e.customerService.currentCustomerValue;let a="id_pic",s="selfie_pic";o&&(a=o.split("@")[0]+"id_pic",s=o.split("@")[0]+"selfie_pic");const c=e.base64ToBlob(e.idImageBase64.split("base64,")[1],"png"),m=e.base64ToBlob(e.selfieBase64.split("base64,")[1],"png"),g=new FormData;g.append("id_pic",c,a+".png"),g.append("selfie_pic",m,s+".png"),e.submitted=!0;const{response:v,status:y}=yield e.req.send(p.m.customerKYC,p.Y.POST,g);if(e.submitted=!1,y)e.customerService.refreshUser({kyc_status:1}),e.toast.show(v.message,"success"),yield e.router.navigateByUrl("/");else{const Zt=e.customerService.checkAuthorization(v.message);e.toast.show(Zt)}})()}base64ToBlob(e,o){const a=atob(e),s=new Array(a.length);for(let m=0;m<a.length;m++)s[m]=a.charCodeAt(m);const c=new Uint8Array(s);return new Blob([c],{type:"image/"+o})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(T.FF),t.Y36(w.f),t.Y36(h.v),t.Y36(b.k),t.Y36(l.F0))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-kyc"]],decls:27,vars:5,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","800px"],[1,"d-flex","flex-column","align-items-center","h-100","justify-content-center","text-center"],[1,"mb-4","mt-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form","p-4"],[1,"d-flex","flex-column","flex-grow-1","justify-content-center","align-items-center","gap-3","mb-3"],["type","file","accept","image/*",1,"d-none",3,"change"],["idFile",""],["class","card py-3 kyc-card d-flex justify-content-center align-items-center w-100 gap-2 ",3,"click",4,"ngIf"],["class","row py-3 ",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"disabled","click"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2",2,"max-width","472px"],[1,"col-6","d-flex","align-items-center"],[1,"m-0","text-start","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/",1,"btn","w-100","border-0","register-btn","text-white"],[1,"custom-hr","d-md-none"],[1,"card","py-3","kyc-card","d-flex","justify-content-center","align-items-center","w-100","gap-2",3,"click"],["ngSrc","assets/icons/kyc.svg","alt","kyc ID","height","47","width","46"],[1,"row","py-3"],["alt","id image","height","150",3,"src"],["ngSrc","assets/icons/kyc.svg","alt","kyc Selfie","height","47","width","46"],["alt","selfie image","height","150",3,"src"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"h1",5),t._uU(6,"KYC Verification"),t.qZA(),t.TgZ(7,"p",6),t._uU(8,"To keep your account secure we\u2019ve added this layer of security!"),t.qZA()(),t.TgZ(9,"form",7)(10,"div",8)(11,"input",9,10),t.NdJ("change",function(c){t.CHM(a);const m=t.MAs(12);return o.uploadImage(c),t.KtG(m.value="")}),t.qZA(),t.YNc(13,pt,4,0,"button",11),t.YNc(14,ft,2,1,"div",12),t.YNc(15,gt,4,0,"button",11),t.YNc(16,ht,2,1,"div",12),t.qZA(),t.TgZ(17,"button",13),t.NdJ("click",function(){return o.submitKYC()}),t._uU(18,"Complete"),t.qZA()(),t.TgZ(19,"div",14)(20,"div",15)(21,"p",16),t._uU(22,"Do you wanna skip?"),t.qZA()(),t.TgZ(23,"div",17)(24,"button",18),t._uU(25,"Skip For Now"),t.qZA()()(),t._UZ(26,"hr",19),t.qZA()()()}2&e&&(t.xp6(13),t.Q6J("ngIf",!o.idImageBase64),t.xp6(1),t.Q6J("ngIf",o.idImageBase64),t.xp6(1),t.Q6J("ngIf",!o.selfieBase64),t.xp6(1),t.Q6J("ngIf",o.selfieBase64),t.xp6(1),t.Q6J("disabled",o.submitted))},dependencies:[f.O5,l.rH,n._Y,n.JL,f.Zd],styles:[".custom-form{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn,.custom-btn:hover{border-radius:8px;background:#01D5BF}.custom-btn:active{background:rgba(1,213,191,.5647058824)!important}.heading-1{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn,.register-btn:hover{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.register-btn:active{background:rgba(47,35,82,.5647058824)!important}.custom-hr{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}.kyc-card{border-radius:8px;border:1px dashed #FFF;background:#0A2237;min-width:330px}@media (max-width: 380px){.font-14{font-size:14px}}.background-custom{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}.modal-bg .modal-content{border-radius:8px;background:#2F2150;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}\n"],encapsulation:2}),r})();const k=(r,i)=>{const e=(0,t.f3M)(w.f),o=(0,t.f3M)(l.F0),a=(0,t.f3M)(h.v);return new Promise((s,c)=>{h.v.authChecked?s(!a.currentisloginValue):e.send(p.m.me,p.Y.GET).then(function(){var m=(0,_.Z)(function*({response:g,status:v}){if(h.v.authChecked=!0,v)a.refreshUser(g.data,!0),yield o.navigateByUrl("/"),s(!0);else{let y="/client/auth/login";window.location.pathname.indexOf("/auth/")&&(y=window.location.pathname),a.checkAuthorization(g.message,y,r.queryParams),s(!1)}});return function(g){return m.apply(this,arguments)}}())})},bt=[{path:"",component:P,children:[{path:"login",canActivate:[k],component:M},{path:"register",canActivate:[k],component:H},{path:"request-password",canActivate:[k],component:K},{path:"verify-otp",canActivate:[k],component:W},{path:"update-password",canActivate:[k],component:it},{path:"kyc",canActivate:[u(1374).F],component:_t}]}];let xt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[l.Bz.forChild(bt),l.Bz]}),r})(),kt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[f.ez,xt,n.UX,d.lN,x.c]}),r})()}}]);