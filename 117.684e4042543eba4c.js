"use strict";(self.webpackChunkFrontend=self.webpackChunkFrontend||[]).push([[117],{5117:(R,g,s)=>{s.r(g),s.d(g,{ProfileModule:()=>z});var u=s(6814),c=s(2098),o=s(5879);let T=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-profile"]],decls:1,vars:0,template:function(e,t){1&e&&o._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2}),r})();var h=s(1374),_=s(5861),n=s(95),d=s(5612),P=s(4469),C=s(5409),Z=s(7124),b=s(7911),m=s(1941),f=s(2032),w=s(3946);function v(r,a){1&r&&(o.TgZ(0,"p")(1,"ngb-alert",13)(2,"strong"),o._uU(3,"Warning!"),o.qZA(),o._uU(4," You haven't completed the "),o.TgZ(5,"strong"),o._uU(6,"KYC verification"),o.qZA(),o._uU(7,". "),o.TgZ(8,"a",14),o._uU(9,"Verify Now!"),o.qZA(),o._uU(10,". "),o.qZA()()),2&r&&(o.xp6(1),o.Q6J("dismissible",!1))}function x(r,a){1&r&&(o.TgZ(0,"p")(1,"ngb-alert",15),o._uU(2," Your "),o.TgZ(3,"strong"),o._uU(4,"KYC verification"),o.qZA(),o._uU(5," process is pending! "),o.qZA()()),2&r&&(o.xp6(1),o.Q6J("dismissible",!1))}function k(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Name is required. "),o.qZA())}function A(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Name should be at least 2 characters. "),o.qZA())}function U(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Name should has at most 150 characters. "),o.qZA())}function I(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Phone is required. "),o.qZA())}function q(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Phone should be at least 10 characters. "),o.qZA())}function y(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Phone should has at most 20 characters. "),o.qZA())}function G(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Old Password is required. "),o.qZA())}function J(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Old Password should be at least 8 character. "),o.qZA())}function N(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Old Password should has at most 100 character. "),o.qZA())}function E(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Password is required. "),o.qZA())}function M(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Password should be at least 8 character. "),o.qZA())}function Q(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Password should has at most 100 character. "),o.qZA())}function O(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Confirm Password is required. "),o.qZA())}function V(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Confirm Password should be at least 8 character. "),o.qZA())}function F(r,a){1&r&&(o.TgZ(0,"mat-error"),o._uU(1,"Confirm Password should has at most 100 character. "),o.qZA())}function H(r,a){1&r&&(o.TgZ(0,"mat-hint",15),o._uU(1,"Passwords Mismatch. "),o.qZA())}const S=[{path:"",component:T,children:[{path:"edit",canActivate:[h.F],component:(()=>{class r{constructor(e,t,i,l,p){this.fb=e,this.formValidation=t,this.req=i,this.customerService=l,this.toast=p,this.submitted=!1,this.kyc_status=0,this.formGroup=e.group({name:["",n.kI.compose([n.kI.required,n.kI.minLength(2),n.kI.maxLength(150)])],phone:["",n.kI.compose([n.kI.required,n.kI.minLength(10),n.kI.maxLength(20)])]})}ngOnInit(){this.formGroup.patchValue(this.customerService.currentCustomerValue),this.kyc_status=this.customerService.currentCustomerValue.kyc_status}editProfile(){var e=this;return(0,_.Z)(function*(){if(e.formGroup.markAllAsTouched(),e.formGroup.invalid)return;e.submitted=!0;const{response:t,status:i}=yield e.req.send(d.m.customerEditProfile,d.Y.PUT,e.formGroup.value);if(e.submitted=!1,i)e.customerService.refreshUser(e.formGroup.value),e.toast.show(t.message,"success");else{const l=e.customerService.checkAuthorization(t.message);e.toast.show(l)}})()}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(n.qu),o.Y36(P.m),o.Y36(C.f),o.Y36(Z.v),o.Y36(b.k))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-edit-profile"]],decls:28,vars:10,consts:[[1,"background-custom"],[1,"container","auth-pt"],[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[4,"ngIf"],[1,"mb-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"p-4"],[1,"w-100","mb-2"],["type","text","matInput","","placeholder","Joe Doe","formControlName","name"],["type","text","matInput","","placeholder","+0000000000000","formControlName","phone"],[1,"btn","text-dark","custom-btn","w-100",3,"disabled","click"],[1,"mt-5",2,"height","120px"],["type","warning",3,"dismissible"],["routerLink","/client/auth/kyc",1,""],["type","info",3,"dismissible"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"h1"),o._uU(6,"Edit Profile"),o.qZA()(),o.YNc(7,v,11,1,"p",5),o.YNc(8,x,6,1,"p",5),o.TgZ(9,"form",6)(10,"div",7)(11,"mat-form-field",8)(12,"mat-label"),o._uU(13,"Name"),o.qZA(),o._UZ(14,"input",9),o.YNc(15,k,2,0,"mat-error",5),o.YNc(16,A,2,0,"mat-error",5),o.YNc(17,U,2,0,"mat-error",5),o.qZA(),o.TgZ(18,"mat-form-field",8)(19,"mat-label"),o._uU(20,"Phone"),o.qZA(),o._UZ(21,"input",10),o.YNc(22,I,2,0,"mat-error",5),o.YNc(23,q,2,0,"mat-error",5),o.YNc(24,y,2,0,"mat-error",5),o.qZA(),o.TgZ(25,"button",11),o.NdJ("click",function(){return t.editProfile()}),o._uU(26,"Confirm"),o.qZA()()(),o._UZ(27,"div",12),o.qZA()()()),2&e&&(o.xp6(7),o.Q6J("ngIf",0==t.kyc_status),o.xp6(1),o.Q6J("ngIf",1==t.kyc_status),o.xp6(1),o.Q6J("formGroup",t.formGroup),o.xp6(6),o.Q6J("ngIf",t.formValidation.controlHasError("required",t.formGroup,"name")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"name")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"name")),o.xp6(5),o.Q6J("ngIf",t.formValidation.controlHasError("required",t.formGroup,"phone")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"phone")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"phone")),o.xp6(1),o.Q6J("disabled",t.submitted))},dependencies:[u.O5,c.rH,n._Y,n.Fj,n.JJ,n.JL,m.KE,m.hX,m.TO,f.Nt,n.sg,n.u,u.Zd,w.xm],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.custom-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}"]}),r})()},{path:"change-password",canActivate:[h.F],component:(()=>{class r{constructor(e,t,i,l,p){this.fb=e,this.formValidation=t,this.req=i,this.customerService=l,this.toast=p,this.submitted=!1,this.formGroup=e.group({old_pass:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])],password:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])],confirmPassword:["",n.kI.compose([n.kI.required,n.kI.minLength(8),n.kI.maxLength(100)])]})}passwordsMatch(){const e=this.formGroup.get("password")?.value,t=this.formGroup.get("confirmPassword")?.value;return e===t}changePassword(){var e=this;return(0,_.Z)(function*(){if(e.formGroup.markAllAsTouched(),e.formGroup.invalid||!e.passwordsMatch())return;e.submitted=!0;const{response:t,status:i}=yield e.req.send(d.m.customerChangePassword,d.Y.PUT,e.formGroup.value);if(e.submitted=!1,i)e.toast.show(t.message,"success");else{const l=e.customerService.checkAuthorization(t.message);e.toast.show(l)}})()}}return r.\u0275fac=function(e){return new(e||r)(o.Y36(n.qu),o.Y36(P.m),o.Y36(C.f),o.Y36(Z.v),o.Y36(b.k))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-change-password"]],decls:34,vars:12,consts:[[1,"background-custom"],[1,"container","auth-pt"],[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"mb-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"p-4"],[1,"w-100","mb-2"],["type","password","matInput","","placeholder","**********","formControlName","old_pass"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","password"],["type","password","matInput","","placeholder","**********","formControlName","confirmPassword"],["class","p-0 m-0 text-start","style","color: #f44336",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100",3,"disabled","click"],[1,"mt-5",2,"height","107px"],[1,"p-0","m-0","text-start",2,"color","#f44336"]],template:function(e,t){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o._UZ(4,"img",4),o.TgZ(5,"h1"),o._uU(6,"Change Your Password"),o.qZA()(),o.TgZ(7,"form",5)(8,"div",6)(9,"mat-form-field",7)(10,"mat-label"),o._uU(11,"Old Password"),o.qZA(),o._UZ(12,"input",8),o.YNc(13,G,2,0,"mat-error",9),o.YNc(14,J,2,0,"mat-error",9),o.YNc(15,N,2,0,"mat-error",9),o.qZA(),o.TgZ(16,"mat-form-field",7)(17,"mat-label"),o._uU(18,"New Password"),o.qZA(),o._UZ(19,"input",10),o.YNc(20,E,2,0,"mat-error",9),o.YNc(21,M,2,0,"mat-error",9),o.YNc(22,Q,2,0,"mat-error",9),o.qZA(),o.TgZ(23,"mat-form-field",7)(24,"mat-label"),o._uU(25,"Confirm New Password"),o.qZA(),o._UZ(26,"input",11),o.YNc(27,O,2,0,"mat-error",9),o.YNc(28,V,2,0,"mat-error",9),o.YNc(29,F,2,0,"mat-error",9),o.YNc(30,H,2,0,"mat-hint",12),o.qZA(),o.TgZ(31,"button",13),o.NdJ("click",function(){return t.changePassword()}),o._uU(32,"Confirm"),o.qZA()()(),o._UZ(33,"div",14),o.qZA()()()),2&e&&(o.xp6(7),o.Q6J("formGroup",t.formGroup),o.xp6(6),o.Q6J("ngIf",t.formValidation.controlHasError("required",t.formGroup,"old_pass")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"old_pass")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"old_pass")),o.xp6(5),o.Q6J("ngIf",t.formValidation.controlHasError("required",t.formGroup,"password")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"password")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"password")),o.xp6(5),o.Q6J("ngIf",t.formValidation.controlHasError("required",t.formGroup,"confirmPassword")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"confirmPassword")),o.xp6(1),o.Q6J("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"confirmPassword")),o.xp6(1),o.Q6J("ngIf",!t.passwordsMatch()&&t.formValidation.isControlValid(t.formGroup,"confirmPassword")),o.xp6(1),o.Q6J("disabled",t.submitted))},dependencies:[u.O5,n._Y,n.Fj,n.JJ,n.JL,m.KE,m.hX,m.bx,m.TO,f.Nt,n.sg,n.u,u.Zd],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:rgba(10,39,59,.5);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01D5BF}.custom-btn[_ngcontent-%COMP%]:active{background:rgba(1,213,191,.5647058824)}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2F2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611C6F 0%,#2D1445 192.46%)}"]}),r})()}]}];let B=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[c.Bz.forChild(S),c.Bz]}),r})(),z=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[u.ez,B,n.u5,m.lN,f.c,n.UX,w.xm]}),r})()}}]);