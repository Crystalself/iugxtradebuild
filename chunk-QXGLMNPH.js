import{a as L,b as M,c as wt}from"./chunk-RTCW3ISG.js";import{$a as n,Cb as pt,Db as R,Ga as i,Gb as ut,Ha as r,Hb as H,Ia as u,Ja as st,K as z,Ka as lt,Ma as dt,N as W,Ob as $,Pa as y,Pb as ft,Q as w,Qa as it,Qb as b,R as Y,Rb as T,Sb as nt,Tb as v,Ub as x,Vb as U,W as rt,X as ot,Xb as _,Yb as C,_b as O,ac as m,cc as G,d as g,dc as P,hc as E,ia as s,ib as ct,ja as d,jc as q,kc as N,kd as j,ld as F,md as J,nc as V,pc as ht,pd as k,qc as S,qd as gt,ra as h,wa as l}from"./chunk-EXCRJQW6.js";var bt=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275cmp=w({type:e,selectors:[["app-auth"]],decls:1,vars:0,template:function(o,t){o&1&&u(0,"router-outlet")},dependencies:[ft],encapsulation:2})}}return e})();function kt(e,p){e&1&&(i(0,"mat-error"),n(1,"Email address is required. "),r())}function Mt(e,p){e&1&&(i(0,"mat-error"),n(1,"Wrong Email format. "),r())}function It(e,p){e&1&&(i(0,"mat-error"),n(1,"Email should has at most 255 character. "),r())}function Rt(e,p){e&1&&(i(0,"mat-error"),n(1,"Password is required. "),r())}function Tt(e,p){e&1&&(i(0,"mat-error"),n(1,"Password should be at least 8 character. "),r())}function Ot(e,p){e&1&&(i(0,"mat-error"),n(1,"Password should has at most 100 character. "),r())}var xt=(()=>{class e{constructor(a,o,t,c,f,I){this.fb=a,this.formValidation=o,this.req=t,this.router=c,this.userService=f,this.toast=I,this.submitted=!1,this.formGroup=a.group({email:["",m.compose([m.required,m.email,m.maxLength(255)])],password:["",m.compose([m.required,m.minLength(8),m.maxLength(100)])]})}login(){return g(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;this.submitted=!0;let{response:a,status:o}=yield this.req.send(x.customerLogin,v.POST,this.formGroup.value);this.submitted=!1,o?(this.userService.refreshUser(a.data,!0,U.CLIENT),yield this.router.navigateByUrl("/"),this.toast.show("Success","success")):this.toast.show(a.message)})}static{this.\u0275fac=function(o){return new(o||e)(d(V),d(L),d(_),d(b),d(C),d(S))}}static{this.\u0275cmp=w({type:e,selectors:[["app-login"]],decls:38,vars:8,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","800px"],[1,"d-flex","py-2","flex-column","align-items-center","h-100","justify-content-center","text-center"],[1,"mb-4","mt-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form",3,"formGroup"],[1,"p-4"],[1,"w-100"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","password"],[1,"text-start","mb-3"],["routerLink","/client/auth/request-password",1,"text","text-white","text-decoration-none"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"click","disabled"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-start","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/register",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,"img",4),i(5,"h1",5),n(6,"Welcome Back!"),r(),i(7,"p",6),n(8,"Please, fill the following information to access your account!"),r()(),i(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),n(13,"Email Address"),r(),u(14,"input",10),h(15,kt,2,0,"mat-error",11)(16,Mt,2,0,"mat-error",11)(17,It,2,0,"mat-error",11),r(),i(18,"mat-form-field",9)(19,"mat-label"),n(20,"Your Password"),r(),u(21,"input",12),h(22,Rt,2,0,"mat-error",11)(23,Tt,2,0,"mat-error",11)(24,Ot,2,0,"mat-error",11),r(),i(25,"div",13)(26,"a",14),n(27,"Forgot your password?"),r()(),i(28,"button",15),y("click",function(){return t.login()}),n(29,"Login"),r()()(),i(30,"div",16)(31,"div",17)(32,"p",18),n(33,"Don't have an account?"),r()(),i(34,"div",19)(35,"button",20),n(36,"Register Now"),r()()(),u(37,"hr",21),r()()()),o&2&&(s(9),l("formGroup",t.formGroup),s(6),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"email")),s(),l("ngIf",t.formValidation.controlHasError("email",t.formGroup,"email")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"email")),s(5),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"password")),s(),l("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"password")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"password")),s(4),l("disabled",t.submitted))},dependencies:[R,T,E,O,G,P,q,N,k,j,F,M,H],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return e})();function Gt(e,p){e&1&&(i(0,"mat-error"),n(1,"Email address is required. "),r())}function qt(e,p){e&1&&(i(0,"mat-error"),n(1,"Wrong Email format. "),r())}function Nt(e,p){e&1&&(i(0,"mat-error"),n(1,"Email should has at most 255 character. "),r())}function Vt(e,p){e&1&&(i(0,"mat-error"),n(1,"Password is required. "),r())}function Lt(e,p){e&1&&(i(0,"mat-error"),n(1,"Password should be at least 8 character. "),r())}function jt(e,p){e&1&&(i(0,"mat-error"),n(1,"Password should has at most 100 character. "),r())}function Ft(e,p){e&1&&(i(0,"mat-error"),n(1,"Confirm Password is required. "),r())}function At(e,p){e&1&&(i(0,"mat-error"),n(1,"Confirm Password should be at least 8 character. "),r())}function Ht(e,p){e&1&&(i(0,"mat-error"),n(1,"Confirm Password should has at most 100 character. "),r())}function Ut(e,p){e&1&&(i(0,"mat-hint",22),n(1,"Passwords Mismatch. "),r())}var _t=(()=>{class e{constructor(a,o,t,c,f,I){this.fb=a,this.formValidation=o,this.req=t,this.router=c,this.userService=f,this.toast=I,this.submitted=!1,this.formGroup=a.group({email:["",m.compose([m.required,m.email,m.maxLength(255)])],password:["",m.compose([m.required,m.minLength(8),m.maxLength(100)])],confirmPassword:["",m.compose([m.required,m.minLength(8),m.maxLength(100)])]})}passwordsMatch(){let a=this.formGroup.get("password")?.value,o=this.formGroup.get("confirmPassword")?.value;return a===o}register(){return g(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid||!this.passwordsMatch())return;this.submitted=!0;let{response:a,status:o}=yield this.req.send(x.customerRegister,v.POST,this.formGroup.value);this.submitted=!1,o?(this.userService.refreshUser(a.data,!0,U.CLIENT),this.toast.show("Success","success"),yield this.router.navigateByUrl("/")):this.toast.show(a.message)})}static{this.\u0275fac=function(o){return new(o||e)(d(V),d(L),d(_),d(b),d(C),d(S))}}static{this.\u0275cmp=w({type:e,selectors:[["app-register"]],decls:43,vars:12,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","900px"],[1,"d-flex","py-4","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4","mt-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"p-4"],[1,"w-100","mb-2"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","password"],["type","password","matInput","","placeholder","**********","formControlName","confirmPassword"],["class","p-0 m-0 text-start","style","color: #f44336",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"click","disabled"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2",2,"max-width","472px"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/login",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"],[1,"p-0","m-0","text-start",2,"color","#f44336"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,"img",4),i(5,"h1",5),n(6,"Create New Account!"),r(),i(7,"p",6),n(8,"Please, fill the following information to create new account!"),r()(),i(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),n(13,"Email Address"),r(),u(14,"input",10),h(15,Gt,2,0,"mat-error",11)(16,qt,2,0,"mat-error",11)(17,Nt,2,0,"mat-error",11),r(),i(18,"mat-form-field",9)(19,"mat-label"),n(20,"Your Password"),r(),u(21,"input",12),h(22,Vt,2,0,"mat-error",11)(23,Lt,2,0,"mat-error",11)(24,jt,2,0,"mat-error",11),r(),i(25,"mat-form-field",9)(26,"mat-label"),n(27,"Confirm Your Password"),r(),u(28,"input",13),h(29,Ft,2,0,"mat-error",11)(30,At,2,0,"mat-error",11)(31,Ht,2,0,"mat-error",11)(32,Ut,2,0,"mat-hint",14),r(),i(33,"button",15),y("click",function(){return t.register()}),n(34,"Register"),r()()(),i(35,"div",16)(36,"div",17)(37,"p",18),n(38,"Already have an account?"),r()(),i(39,"div",19)(40,"button",20),n(41,"Login Now"),r()()(),u(42,"hr",21),r()()()),o&2&&(s(9),l("formGroup",t.formGroup),s(6),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"email")),s(),l("ngIf",t.formValidation.controlHasError("email",t.formGroup,"email")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"email")),s(5),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"password")),s(),l("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"password")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"password")),s(5),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"confirmPassword")),s(),l("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"confirmPassword")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"confirmPassword")),s(),l("ngIf",!t.passwordsMatch()&&t.formValidation.isControlValid(t.formGroup,"confirmPassword")),s(),l("disabled",t.submitted))},dependencies:[R,T,E,O,G,P,q,N,k,j,J,F,M,H],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return e})();function Dt(e,p){e&1&&(i(0,"mat-error"),n(1,"Email address is required. "),r())}function Bt(e,p){e&1&&(i(0,"mat-error"),n(1,"Wrong Email format. "),r())}function zt(e,p){e&1&&(i(0,"mat-error"),n(1,"Email should has at most 255 character. "),r())}var yt=(()=>{class e{constructor(a,o,t,c,f){this.fb=a,this.formValidation=o,this.req=t,this.router=c,this.toast=f,this.submitted=!1,this.formGroup=a.group({email:["",m.compose([m.required,m.email,m.maxLength(255)])]})}requestPassword(){return g(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;this.submitted=!0;let{response:a,status:o}=yield this.req.send(x.customerRequestPassword,v.POST,this.formGroup.value);this.submitted=!1,o?(this.toast.show(a.message,"success"),yield this.router.navigate(["/client/auth/verify-otp"],{queryParams:{email:this.formGroup.get("email")?.value}})):this.toast.show(a.message)})}static{this.\u0275fac=function(o){return new(o||e)(d(V),d(L),d(_),d(b),d(S))}}static{this.\u0275cmp=w({type:e,selectors:[["app-request-password"]],decls:28,vars:5,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","700px"],[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center","h-100"],[1,"mb-4","mt-4"],["src","assets/icons/btc.svg","alt","Btc login "],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form",3,"formGroup"],[1,"p-4"],[1,"w-100","mb-2"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"click","disabled"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2",2,"max-width","472px"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-start","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/login",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,"img",4),i(5,"h1",5),n(6,"Recover Your Password"),r(),i(7,"p",6),n(8,"Use your email address to recover your password!"),r()(),i(9,"form",7)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),n(13,"Email Address"),r(),u(14,"input",10),h(15,Dt,2,0,"mat-error",11)(16,Bt,2,0,"mat-error",11)(17,zt,2,0,"mat-error",11),r(),i(18,"button",12),y("click",function(){return t.requestPassword()}),n(19,"Recover My Password"),r()()(),i(20,"div",13)(21,"div",14)(22,"p",15),n(23,"Remember your password?"),r()(),i(24,"div",16)(25,"button",17),n(26,"Back to login"),r()()(),u(27,"hr",18),r()()()),o&2&&(s(9),l("formGroup",t.formGroup),s(6),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"email")),s(),l("ngIf",t.formValidation.controlHasError("email",t.formGroup,"email")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"email")),s(),l("disabled",t.submitted))},dependencies:[R,T,E,O,G,P,q,N,k,j,F,M],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return e})();var Wt=()=>[1,2,3,4];function Yt(e,p){if(e&1){let a=dt();st(0),i(1,"div",17)(2,"mat-form-field",18)(3,"input",19),y("input",function(t){let c=rt(a).$implicit,f=it();return ot(f.onInput(t,c))})("keydown.backspace",function(t){let c=rt(a).$implicit,f=it();return ot(f.onBackSpace(t,c))}),r()()(),lt()}if(e&2){let a=p.$implicit;s(3),l("id","inputRef"+a)}}var Ct=(()=>{class e{constructor(a,o,t,c,f){this.userService=a,this.req=o,this.route=t,this.router=c,this.toast=f,this.otp=[],this.submitted=!1,this.email=""}ngOnInit(){this.email=this.route.snapshot.queryParams.email,this.email||this.router.navigateByUrl("/").then()}onInput(a,o){let t=a.target.value;if(isNaN(Number(t))){a.target.value="";return}this.otp[o-1]=t;let c=document.getElementById("inputRef"+(o+1));t&&c&&c.focus()}onBackSpace(a,o){let t=a.target.value;if(this.otp[o-1]=t,o>1&&!t){a.preventDefault();let c=document.getElementById("inputRef"+(o-1));c&&c.focus()}}checkOTP(){return g(this,null,function*(){let a=this.otp.join("");if(a.length!==4||!this.email)return;this.submitted=!0;let{response:o,status:t}=yield this.req.send(x.customerCheckOTP,v.POST,{email:this.email,otp:a});if(this.submitted=!1,t)this.toast.show(o.message,"success"),yield this.router.navigate(["/client/auth/update-password"],{queryParams:{email:this.email,otp:a}});else{let c=this.userService.checkAuthorization(o.message);this.toast.show(c)}})}static{this.\u0275fac=function(o){return new(o||e)(d(C),d(_),d($),d(b),d(S))}}static{this.\u0275cmp=w({type:e,selectors:[["app-password-otp"]],decls:22,vars:3,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center",2,"height","700px"],[1,"d-flex","py-2","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4","mt-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"mb-4","custom-form","p-4",2,"max-width","500px"],[1,"row"],[4,"ngFor","ngForOf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700",3,"click","disabled"],[1,"row","d-flex","w-100","mt-auto","align-bottom","mb-md-2",2,"max-width","472px"],[1,"col-6","d-flex","p-0","align-items-center"],[1,"m-0","text-start","text-nowrap","font-16","font-14"],[1,"col-6","text-end"],["routerLink","/client/auth/login",1,"btn","w-100","register-btn","text-white"],[1,"custom-hr","d-md-none"],[1,"col-3"],[1,"w-75"],["matInput","","type","text","maxlength","1","placeholder","__",1,"text-center",3,"input","keydown.backspace","id"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,"img",4),i(5,"h1",5),n(6,"Enter OTP"),r(),i(7,"p",6),n(8,"We\u2019ve sent you 4-digits OTP to your email, please fill it here."),r()(),i(9,"form",7)(10,"div",8),h(11,Yt,4,1,"ng-container",9),r(),i(12,"button",10),y("click",function(f){return f.preventDefault(),t.checkOTP()}),n(13,"Recover My Password"),r()(),i(14,"div",11)(15,"div",12)(16,"p",13),n(17,"Remember your password?"),r()(),i(18,"div",14)(19,"button",15),n(20,"Back to login"),r()()(),u(21,"hr",16),r()()()),o&2&&(s(11),l("ngForOf",ct(2,Wt)),s(),l("disabled",t.submitted))},dependencies:[pt,T,E,P,k,M,H],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return e})();function $t(e,p){e&1&&(i(0,"mat-error"),n(1,"Password is required. "),r())}function Jt(e,p){e&1&&(i(0,"mat-error"),n(1,"Password should be at least 8 character. "),r())}function Kt(e,p){e&1&&(i(0,"mat-error"),n(1,"Password should has at most 100 character. "),r())}function Qt(e,p){e&1&&(i(0,"mat-error"),n(1,"Confirm Password is required. "),r())}function Xt(e,p){e&1&&(i(0,"mat-error"),n(1,"Confirm Password should be at least 8 character. "),r())}function Zt(e,p){e&1&&(i(0,"mat-error"),n(1,"Confirm Password should has at most 100 character. "),r())}function te(e,p){e&1&&(i(0,"mat-hint",14),n(1,"Passwords Mismatch. "),r())}var Pt=(()=>{class e{constructor(a,o,t,c,f,I){this.fb=a,this.route=o,this.formValidation=t,this.req=c,this.router=f,this.toast=I,this.submitted=!1,this.formGroup=a.group({email:["",m.compose([m.required,m.email,m.maxLength(255)])],otp:["",m.compose([m.required,m.maxLength(4)])],password:["",m.compose([m.required,m.minLength(8),m.maxLength(100)])],confirmPassword:["",m.compose([m.required,m.minLength(8),m.maxLength(100)])]})}ngOnInit(){let{email:a,otp:o}=this.route.snapshot.queryParams;(!a||!o)&&this.router.navigateByUrl("/").then(),this.formGroup.patchValue(this.route.snapshot.queryParams)}passwordsMatch(){let a=this.formGroup.get("password")?.value,o=this.formGroup.get("confirmPassword")?.value;return a===o}updatePassword(){return g(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid||!this.passwordsMatch())return;this.submitted=!0;let{response:a,status:o}=yield this.req.send(x.customerUpdatePassword,v.POST,this.formGroup.value);this.submitted=!1,o?(this.toast.show(a.message,"success"),yield this.router.navigateByUrl("/customer/auth/login")):this.toast.show(a.message)})}static{this.\u0275fac=function(o){return new(o||e)(d(V),d($),d(L),d(_),d(b),d(S))}}static{this.\u0275cmp=w({type:e,selectors:[["app-update-password"]],decls:29,vars:9,consts:[[1,"background-custom"],[1,"container","auth-pt"],[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4"],["src","assets/icons/btc.svg","alt","Btc login "],[1,"mb-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"p-4"],[1,"w-100"],["type","password","matInput","","placeholder","**********","formControlName","password"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","confirmPassword"],["class","p-0 m-0 text-start","style","color: #f44336",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100",3,"click","disabled"],[1,"mt-5",2,"height","120px"],[1,"p-0","m-0","text-start",2,"color","#f44336"]],template:function(o,t){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u(4,"img",4),i(5,"h1"),n(6,"Create New Password"),r(),i(7,"p"),n(8,"Well done! Create new password for your account."),r()(),i(9,"form",5)(10,"div",6)(11,"mat-form-field",7)(12,"mat-label"),n(13,"New Password"),r(),u(14,"input",8),h(15,$t,2,0,"mat-error",9)(16,Jt,2,0,"mat-error",9)(17,Kt,2,0,"mat-error",9),r(),i(18,"mat-form-field",7)(19,"mat-label"),n(20,"Confirm New Password"),r(),u(21,"input",10),h(22,Qt,2,0,"mat-error",9)(23,Xt,2,0,"mat-error",9)(24,Zt,2,0,"mat-error",9)(25,te,2,0,"mat-hint",11),r(),i(26,"button",12),y("click",function(){return t.updatePassword()}),n(27,"Confirm"),r()()(),u(28,"div",13),r()()()),o&2&&(s(9),l("formGroup",t.formGroup),s(6),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"password")),s(),l("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"password")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"password")),s(5),l("ngIf",t.formValidation.controlHasError("required",t.formGroup,"confirmPassword")),s(),l("ngIf",t.formValidation.controlHasError("minlength",t.formGroup,"confirmPassword")),s(),l("ngIf",t.formValidation.controlHasError("maxlength",t.formGroup,"confirmPassword")),s(),l("ngIf",!t.passwordsMatch()&&t.formValidation.isControlValid(t.formGroup,"confirmPassword")),s(),l("disabled",t.submitted))},dependencies:[R,E,O,G,P,q,N,k,j,J,F,M],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return e})();var D=(e,p)=>{let a=W(_),o=W(b),t=W(C);return new Promise((c,f)=>{if(C.authChecked){c(!t.currentisloginValue);return}a.send(x.me,v.GET).then(mr=>g(void 0,[mr],function*({response:I,status:St}){if(C.authChecked=!0,St)t.refreshUser(I.data,!0,U.CLIENT),yield o.navigateByUrl("/"),c(!0);else{let mt="/client/auth/login";window.location.pathname.indexOf("/auth/")!==-1&&(mt=window.location.pathname),yield t.checkAuthorization(I.message,mt,e.queryParams),c(!1)}}))})};var ee=[{path:"",component:bt,children:[{path:"login",canActivate:[D],component:xt},{path:"register",canActivate:[D],component:_t},{path:"request-password",canActivate:[D],component:yt},{path:"verify-otp",canActivate:[D],component:Ct},{path:"update-password",canActivate:[D],component:Pt}]}],Et=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=z({imports:[nt.forChild(ee),nt]})}}return e})();var nr=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=Y({type:e})}static{this.\u0275inj=z({imports:[ut,Et,ht,gt,wt]})}}return e})();export{nr as AuthModule};
