import{a as O,b as k,c as ue}from"./chunk-RTCW3ISG.js";import{$a as i,Cb as se,Db as R,Ga as o,Gb as le,Ha as r,Hb as w,Ia as c,Ja as ie,K as A,Ka as ne,Ma as ae,Ob as D,Pa as _,Pb as de,Q as h,Qa as te,Qb as v,R as B,Rb as T,Sb as re,Tb as y,Ub as x,Vb as pe,W as Z,X as ee,Xb as P,Yb as U,_b as G,ac as n,cc as M,d as b,dc as E,hc as C,ia as m,ib as me,ja as p,jc as q,kc as N,kd as L,ld as H,md as z,nc as V,pc as ce,pd as I,qc as S,qd as fe,ra as u,wa as s}from"./chunk-EXCRJQW6.js";var ge=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=h({type:t,selectors:[["app-authentication"]],decls:1,vars:0,template:function(a,e){a&1&&c(0,"router-outlet")},dependencies:[de],encapsulation:2})}}return t})();function Pe(t,d){t&1&&(o(0,"mat-error"),i(1,"Email address is required. "),r())}function Ee(t,d){t&1&&(o(0,"mat-error"),i(1,"Wrong Email format. "),r())}function Ce(t,d){t&1&&(o(0,"mat-error"),i(1,"Email should has at most 255 character. "),r())}function Se(t,d){t&1&&(o(0,"mat-error"),i(1,"Password is required. "),r())}function Ie(t,d){t&1&&(o(0,"mat-error"),i(1,"Password should be at least 8 character. "),r())}function ke(t,d){t&1&&(o(0,"mat-error"),i(1,"Password should has at most 100 character. "),r())}var he=(()=>{class t{constructor(l,a,e,f,g,Q){this.fb=l,this.formValidation=a,this.req=e,this.router=f,this.userService=g,this.toast=Q,this.submitted=!1,this.formGroup=l.group({email:["",n.compose([n.required,n.email,n.maxLength(255)])],password:["",n.compose([n.required,n.minLength(8),n.maxLength(100)])]})}login(){return b(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;this.submitted=!0;let{response:l,status:a}=yield this.req.send(x.p_login,y.POST,this.formGroup.value);this.submitted=!1,a?(this.userService.refreshUser(l.data,!0,pe.ADVISOR),yield this.router.navigateByUrl("/"),this.toast.show("Success","success")):this.toast.show(l.message)})}static{this.\u0275fac=function(a){return new(a||t)(p(V),p(O),p(P),p(v),p(U),p(S))}}static{this.\u0275cmp=h({type:t,selectors:[["app-p-login"]],decls:34,vars:8,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center","align-items-center","h-100"],[1,"custom-form","mt-4","text-center","mb-4",3,"formGroup"],[1,"p-4"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"w-100"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","password"],[1,"text-start","mb-3"],["routerLink","/advisor/auth/request-password",1,"text","text-white","text-decoration-none","font-14"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700","mb-4","font-14",3,"click","disabled"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"align-self-center","m-0","text-nowrap"],["routerLink","/advisor/auth/register",1,"btn","secondary-btn","font-16","font-w-700","text-white","text-nowrap","border-0"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),c(5,"img",5),o(6,"h1",6),i(7,"Welcome Back!"),r(),o(8,"p",7),i(9,"Please, fill the following information to access your account!"),r()(),o(10,"mat-form-field",8)(11,"mat-label"),i(12,"Email Address"),r(),c(13,"input",9),u(14,Pe,2,0,"mat-error",10)(15,Ee,2,0,"mat-error",10)(16,Ce,2,0,"mat-error",10),r(),o(17,"mat-form-field",8)(18,"mat-label"),i(19,"Your Password"),r(),c(20,"input",11),u(21,Se,2,0,"mat-error",10)(22,Ie,2,0,"mat-error",10)(23,ke,2,0,"mat-error",10),r(),o(24,"div",12)(25,"a",13),i(26,"Forgot your password?"),r()(),o(27,"button",14),_("click",function(){return e.login()}),i(28," Login "),r(),o(29,"div",15)(30,"p",16),i(31,"Don\u2019t have an account?"),r(),o(32,"button",17),i(33,"Register Now "),r()()()()()()),a&2&&(m(2),s("formGroup",e.formGroup),m(12),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"email")),m(),s("ngIf",e.formValidation.controlHasError("email",e.formGroup,"email")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"email")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"password")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"password")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"password")),m(4),s("disabled",e.submitted))},dependencies:[R,T,I,L,H,k,w,C,G,M,E,q,N],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.secondary-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;padding:12px 24px;font-family:Raleway}.secondary-btn[_ngcontent-%COMP%]:active{border-radius:8px;background:#2f235290;text-align:center;font-family:Raleway}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}"]})}}return t})();function Re(t,d){t&1&&(o(0,"mat-error"),i(1,"First Name is required. "),r())}function Te(t,d){t&1&&(o(0,"mat-error"),i(1,"First Name should be at least 2 characters. "),r())}function Ge(t,d){t&1&&(o(0,"mat-error"),i(1,"First Name should has at most 150 characters. "),r())}function Me(t,d){t&1&&(o(0,"mat-error"),i(1,"Last Name is required. "),r())}function qe(t,d){t&1&&(o(0,"mat-error"),i(1,"Last Name should be at least 2 characters. "),r())}function Ne(t,d){t&1&&(o(0,"mat-error"),i(1,"Last Name should has at most 150 characters. "),r())}function Ve(t,d){t&1&&(o(0,"mat-error"),i(1,"Phone is required. "),r())}function Oe(t,d){t&1&&(o(0,"mat-error"),i(1,"Phone should be at least 10 characters. "),r())}function Le(t,d){t&1&&(o(0,"mat-error"),i(1,"Phone should has at most 20 characters. "),r())}function He(t,d){t&1&&(o(0,"mat-error"),i(1,"Email address is required. "),r())}function Fe(t,d){t&1&&(o(0,"mat-error"),i(1,"Wrong Email format. "),r())}function je(t,d){t&1&&(o(0,"mat-error"),i(1,"Email should has at most 255 character. "),r())}function Ae(t,d){t&1&&(o(0,"mat-error"),i(1,"Bank Name is required. "),r())}function Be(t,d){t&1&&(o(0,"mat-error"),i(1,"Bank Name should be at least 5 characters. "),r())}function De(t,d){t&1&&(o(0,"mat-error"),i(1,"Bank Name should has at most 255 characters. "),r())}function Ue(t,d){t&1&&(o(0,"mat-error"),i(1,"Bank Account is required. "),r())}function ze(t,d){t&1&&(o(0,"mat-error"),i(1,"Bank Account should be at least 5 characters. "),r())}function Xe(t,d){t&1&&(o(0,"mat-error"),i(1,"Bank Account should has at most 100 characters. "),r())}function We(t,d){t&1&&(o(0,"mat-error"),i(1,"Business Name is required. "),r())}function Ye(t,d){t&1&&(o(0,"mat-error"),i(1,"Business Name should be at least 5 characters. "),r())}function $e(t,d){t&1&&(o(0,"mat-error"),i(1,"Business Name should has at most 150 characters. "),r())}function Je(t,d){t&1&&(o(0,"mat-error"),i(1,"Password is required. "),r())}function Ke(t,d){t&1&&(o(0,"mat-error"),i(1,"Password should be at least 8 character. "),r())}function Qe(t,d){t&1&&(o(0,"mat-error"),i(1,"Password should has at most 100 character. "),r())}function Ze(t,d){t&1&&(o(0,"mat-error"),i(1,"Address is required. "),r())}function et(t,d){t&1&&(o(0,"mat-error"),i(1,"Address should be at least 10 characters. "),r())}function tt(t,d){t&1&&(o(0,"mat-error"),i(1,"Address should has at most 255 characters. "),r())}function rt(t,d){t&1&&(o(0,"mat-error"),i(1,"City is required. "),r())}function ot(t,d){t&1&&(o(0,"mat-error"),i(1,"City should be at least 2 characters. "),r())}function it(t,d){t&1&&(o(0,"mat-error"),i(1,"City should has at most 100 characters. "),r())}function nt(t,d){t&1&&(o(0,"mat-error"),i(1,"Country is required. "),r())}function at(t,d){t&1&&(o(0,"mat-error"),i(1,"Country should be at least 2 characters. "),r())}function mt(t,d){t&1&&(o(0,"mat-error"),i(1,"Country should has at most 100 characters. "),r())}var _e=(()=>{class t{constructor(l,a,e,f,g){this.fb=l,this.formValidation=a,this.req=e,this.router=f,this.toast=g,this.submitted=!1,this.formGroup=l.group({email:["",n.compose([n.required,n.email,n.maxLength(255)])],password:["",n.compose([n.required,n.minLength(8),n.maxLength(100)])],phone:["",n.compose([n.required,n.minLength(10),n.maxLength(20)])],first_name:["",n.compose([n.required,n.minLength(2),n.maxLength(150)])],last_name:["",n.compose([n.required,n.minLength(2),n.maxLength(150)])],bank_name:["",n.compose([n.required,n.minLength(5),n.maxLength(255)])],bank_account:["",n.compose([n.required,n.minLength(5),n.maxLength(100)])],company:["",n.compose([n.required,n.minLength(5),n.maxLength(150)])],address1:["",n.compose([n.required,n.minLength(10),n.maxLength(255)])],city:["",n.compose([n.required,n.minLength(2),n.maxLength(100)])],country:["",n.compose([n.required,n.minLength(2),n.maxLength(100)])],address2:["",n.compose([n.maxLength(255)])]})}register(){return b(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;this.submitted=!0;let{response:l,status:a}=yield this.req.send(x.p_register,y.POST,this.formGroup.value);this.submitted=!1,a?(this.formGroup.reset(),this.toast.show("Registration form received. Pending approval. Thank you!","success")):this.toast.show(l.message)})}static{this.\u0275fac=function(a){return new(a||t)(p(V),p(O),p(P),p(v),p(S))}}static{this.\u0275cmp=h({type:t,selectors:[["app-p-register"]],decls:105,vars:35,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center","align-items-center","h-100"],[1,"custom-form","mt-4","text-center","mb-4","w-100",3,"formGroup"],[1,"p-4"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"row","w-100"],[1,"col-lg-6"],[1,"d-flex","flex-row","justify-content-between","gap-2","mb-4"],[1,"w-100"],["type","text","matInput","","placeholder","Joe","formControlName","first_name"],[4,"ngIf"],["type","text","matInput","","placeholder","Doe","formControlName","last_name"],[1,"w-100","mb-md-2"],["type","tel","matInput","","placeholder","+0000000000000","formControlName","phone"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],["type","text","matInput","","placeholder","Bank of Palestine","formControlName","bank_name"],["type","text","matInput","","placeholder","XXXXXXXXXXX","formControlName","bank_account"],[1,"col-lg-6","mb-4"],[1,"w-100","mb-lg-4"],["type","text","matInput","","placeholder","Business X","formControlName","company"],[1,"w-100","mb-lg-2"],["type","password","matInput","","placeholder","**********","formControlName","password"],["type","text","matInput","","formControlName","address1"],["type","text","matInput","","formControlName","address2"],[1,"text-secondary"],[1,"d-flex","flex-row","justify-content-between","gap-2","mb-4","mb-lg-2"],["type","text","matInput","","formControlName","city"],["type","text","matInput","","formControlName","country"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700","mb-4","font-14","py-2",3,"click","disabled"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"align-self-center","m-0","text-nowrap"],["routerLink","/advisor/auth/login",1,"btn","secondary-btn","font-16","font-w-700","text-white","text-nowrap","border-0"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),c(5,"img",5),o(6,"h1",6),i(7,"Create New Account!"),r(),o(8,"p",7),i(9,"Please, fill the following information to create new account!"),r()(),o(10,"div",8)(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),i(15,"First Name"),r(),c(16,"input",12),u(17,Re,2,0,"mat-error",13)(18,Te,2,0,"mat-error",13)(19,Ge,2,0,"mat-error",13),r(),o(20,"mat-form-field",11)(21,"mat-label"),i(22,"Last Name"),r(),c(23,"input",14),u(24,Me,2,0,"mat-error",13)(25,qe,2,0,"mat-error",13)(26,Ne,2,0,"mat-error",13),r()(),o(27,"mat-form-field",15)(28,"mat-label"),i(29,"Phone Number"),r(),c(30,"input",16),u(31,Ve,2,0,"mat-error",13)(32,Oe,2,0,"mat-error",13)(33,Le,2,0,"mat-error",13),r(),o(34,"mat-form-field",15)(35,"mat-label"),i(36,"Business Email"),r(),c(37,"input",17),u(38,He,2,0,"mat-error",13)(39,Fe,2,0,"mat-error",13)(40,je,2,0,"mat-error",13),r(),o(41,"mat-form-field",15)(42,"mat-label"),i(43,"Bank Name"),r(),c(44,"input",18),u(45,Ae,2,0,"mat-error",13)(46,Be,2,0,"mat-error",13)(47,De,2,0,"mat-error",13),r(),o(48,"mat-form-field",15)(49,"mat-label"),i(50,"Bank Account Number"),r(),c(51,"input",19),u(52,Ue,2,0,"mat-error",13)(53,ze,2,0,"mat-error",13)(54,Xe,2,0,"mat-error",13),r()(),o(55,"div",20)(56,"mat-form-field",21)(57,"mat-label"),i(58,"Business Name"),r(),c(59,"input",22),u(60,We,2,0,"mat-error",13)(61,Ye,2,0,"mat-error",13)(62,$e,2,0,"mat-error",13),r(),o(63,"mat-form-field",23)(64,"mat-label"),i(65,"Your Password"),r(),c(66,"input",24),u(67,Je,2,0,"mat-error",13)(68,Ke,2,0,"mat-error",13)(69,Qe,2,0,"mat-error",13),r(),o(70,"mat-form-field",23)(71,"mat-label"),i(72,"Address 1"),r(),c(73,"input",25),u(74,Ze,2,0,"mat-error",13)(75,et,2,0,"mat-error",13)(76,tt,2,0,"mat-error",13),r(),o(77,"mat-form-field",23)(78,"mat-label"),i(79,"Address 2"),r(),c(80,"input",26),o(81,"mat-hint",27),i(82,"(Optional)"),r()(),o(83,"div",28)(84,"mat-form-field",11)(85,"mat-label"),i(86,"City"),r(),c(87,"input",29),u(88,rt,2,0,"mat-error",13)(89,ot,2,0,"mat-error",13)(90,it,2,0,"mat-error",13),r(),o(91,"mat-form-field",11)(92,"mat-label"),i(93,"Country"),r(),c(94,"input",30),u(95,nt,2,0,"mat-error",13)(96,at,2,0,"mat-error",13)(97,mt,2,0,"mat-error",13),r()()(),o(98,"button",31),_("click",function(){return e.register()}),i(99," Register "),r(),o(100,"div",32)(101,"p",33),i(102,"Already have an account?"),r(),o(103,"button",34),i(104,"Login Now "),r()()()()()()()),a&2&&(m(2),s("formGroup",e.formGroup),m(15),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"first_name")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"first_name")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"first_name")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"last_name")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"last_name")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"last_name")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"phone")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"phone")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"phone")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"email")),m(),s("ngIf",e.formValidation.controlHasError("email",e.formGroup,"email")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"email")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"bank_name")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"bank_name")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"bank_name")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"bank_account")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"bank_account")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"bank_account")),m(6),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"company")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"company")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"company")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"password")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"password")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"password")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"address1")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"address1")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"address1")),m(12),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"city")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"city")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"city")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"country")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"country")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"country")),m(),s("disabled",e.submitted))},dependencies:[R,T,I,L,z,H,k,w,C,G,M,E,q,N],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.secondary-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;padding:12px 24px;font-family:Raleway}.secondary-btn[_ngcontent-%COMP%]:active{border-radius:8px;background:#2f235290;text-align:center;font-family:Raleway}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}  .mat-mdc-form-field-error-wrapper{padding-left:0!important}.input-background[_ngcontent-%COMP%]{border-radius:8px;background:#0a2237}.active[_ngcontent-%COMP%]{border-radius:8px;border-bottom:2px solid #01D5BF;background:#0a2539}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return t})();function st(t,d){t&1&&(o(0,"mat-error"),i(1,"Email address is required. "),r())}function lt(t,d){t&1&&(o(0,"mat-error"),i(1,"Wrong Email format. "),r())}function dt(t,d){t&1&&(o(0,"mat-error"),i(1,"Email should has at most 255 character. "),r())}var be=(()=>{class t{constructor(l,a,e,f,g){this.fb=l,this.formValidation=a,this.req=e,this.router=f,this.toast=g,this.submitted=!1,this.formGroup=l.group({email:["",n.compose([n.required,n.email,n.maxLength(255)])]})}requestPassword(){return b(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid)return;this.submitted=!0;let{response:l,status:a}=yield this.req.send(x.p_requestPassword,y.POST,this.formGroup.value);this.submitted=!1,a?(this.toast.show(l.message,"success"),yield this.router.navigate(["/advisor/auth/verify-otp"],{queryParams:{email:this.formGroup.get("email")?.value}})):this.toast.show(l.message)})}static{this.\u0275fac=function(a){return new(a||t)(p(V),p(O),p(P),p(v),p(S))}}static{this.\u0275cmp=h({type:t,selectors:[["app-p-request-password"]],decls:24,vars:5,consts:[[1,"background-custom"],[1,"container","auth-pt","d-flex","justify-content-center","align-items-center","h-100"],[1,"custom-form","mt-4","text-center","mb-4",3,"formGroup"],[1,"p-4"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"w-100","mb-2"],["type","email","matInput","","placeholder","your@example.com","formControlName","email"],[4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700","mb-4","font-14",3,"click","disabled"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"align-self-center","m-0","text-nowrap"],["routerLink","/advisor/auth/login",1,"btn","secondary-btn","font-16","font-w-700","text-white","text-nowrap","border-0"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),c(5,"img",5),o(6,"h1",6),i(7,"Recover Your Password"),r(),o(8,"p",7),i(9,"Use your email address to recover your password!"),r()(),o(10,"mat-form-field",8)(11,"mat-label"),i(12,"Email Address"),r(),c(13,"input",9),u(14,st,2,0,"mat-error",10)(15,lt,2,0,"mat-error",10)(16,dt,2,0,"mat-error",10),r(),o(17,"button",11),_("click",function(){return e.requestPassword()}),i(18," Recover My Password "),r(),o(19,"div",12)(20,"p",13),i(21,"Remember your password?"),r(),o(22,"button",14),i(23,"Back to login "),r()()()()()()),a&2&&(m(2),s("formGroup",e.formGroup),m(12),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"email")),m(),s("ngIf",e.formValidation.controlHasError("email",e.formGroup,"email")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"email")),m(),s("disabled",e.submitted))},dependencies:[R,T,I,L,H,k,w,C,G,M,E,q,N],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.secondary-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;padding:12px 24px;font-family:Raleway}.secondary-btn[_ngcontent-%COMP%]:active{border-radius:8px;background:#2f235290;text-align:center;font-family:Raleway}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}"]})}}return t})();var pt=()=>[1,2,3,4];function ct(t,d){if(t&1){let l=ae();ie(0),o(1,"div",13)(2,"mat-form-field",14)(3,"input",15),_("input",function(e){let f=Z(l).$implicit,g=te();return ee(g.onInput(e,f))})("keydown.backspace",function(e){let f=Z(l).$implicit,g=te();return ee(g.onBackSpace(e,f))}),r()()(),ne()}if(t&2){let l=d.$implicit;m(3),s("id","inputRef"+l)}}var we=(()=>{class t{constructor(l,a,e,f,g){this.userService=l,this.req=a,this.route=e,this.router=f,this.toast=g,this.otp=[],this.submitted=!1,this.email=""}ngOnInit(){this.email=this.route.snapshot.queryParams.email,this.email||this.router.navigateByUrl("/").then()}onInput(l,a){let e=l.target.value;if(isNaN(Number(e))){l.target.value="";return}this.otp[a-1]=e;let f=document.getElementById("inputRef"+(a+1));e&&f&&f.focus()}onBackSpace(l,a){let e=l.target.value;if(this.otp[a-1]=e,a>1&&!e){l.preventDefault();let f=document.getElementById("inputRef"+(a-1));f&&f.focus()}}checkOTP(){return b(this,null,function*(){let l=this.otp.join("");if(l.length!==4||!this.email)return;this.submitted=!0;let{response:a,status:e}=yield this.req.send(x.p_checkOTP,y.POST,{email:this.email,otp:l});if(this.submitted=!1,e)this.toast.show(a.message,"success"),yield this.router.navigate(["/advisor/auth/update-password"],{queryParams:{email:this.email,otp:l}});else{let f=this.userService.checkAuthorization(a.message);this.toast.show(f)}})}static{this.\u0275fac=function(a){return new(a||t)(p(U),p(P),p(D),p(v),p(S))}}static{this.\u0275cmp=h({type:t,selectors:[["app-p-password-otp"]],decls:18,vars:3,consts:[[1,"container","auth-pt","d-flex","justify-content-center"],[1,"custom-form","mt-4","text-center","mb-4",2,"max-width","520px"],[1,"p-4"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-24","font-w-600","Raleway"],[1,"font-16","font-w-400","Raleway"],[1,"row"],[4,"ngFor","ngForOf"],[1,"btn","text-dark","custom-btn","w-100","font-16","font-w-700","mb-4","font-14",3,"click","disabled"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"align-self-center","m-0","text-nowrap"],["routerLink","/advisor/auth/login",1,"btn","secondary-btn","font-16","font-w-700","text-white","text-nowrap","border-0"],[1,"col-3"],[1,"w-75"],["matInput","","type","text","maxlength","1","placeholder","__",1,"text-center",3,"input","keydown.backspace","id"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),c(4,"img",4),o(5,"h1",5),i(6,"Enter OTP"),r(),o(7,"p",6),i(8,"We\u2019ve sent you 4-digits OTP to your email, please fill it here."),r()(),o(9,"div",7),u(10,ct,4,1,"ng-container",8),r(),o(11,"button",9),_("click",function(){return e.checkOTP()}),i(12," Recover My Password "),r(),o(13,"div",10)(14,"p",11),i(15,"Remember your password?"),r(),o(16,"button",12),i(17,"Back to login "),r()()()()()),a&2&&(m(10),s("ngForOf",me(2,pt)),m(),s("disabled",e.submitted))},dependencies:[se,T,I,k,w,C,E],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}"]})}}return t})();function ft(t,d){t&1&&(o(0,"mat-error"),i(1,"Password is required. "),r())}function ut(t,d){t&1&&(o(0,"mat-error"),i(1,"Password should be at least 8 character. "),r())}function gt(t,d){t&1&&(o(0,"mat-error"),i(1,"Password should has at most 100 character. "),r())}function ht(t,d){t&1&&(o(0,"mat-error"),i(1,"Confirm Password is required. "),r())}function _t(t,d){t&1&&(o(0,"mat-error"),i(1,"Confirm Password should be at least 8 character. "),r())}function bt(t,d){t&1&&(o(0,"mat-error"),i(1,"Confirm Password should has at most 100 character. "),r())}function wt(t,d){t&1&&(o(0,"mat-hint",12),i(1,"Passwords Mismatch. "),r())}var ve=(()=>{class t{constructor(l,a,e,f,g,Q){this.fb=l,this.route=a,this.formValidation=e,this.req=f,this.router=g,this.toast=Q,this.submitted=!1,this.formGroup=l.group({email:["",n.compose([n.required,n.email,n.maxLength(255)])],otp:["",n.compose([n.required,n.maxLength(4)])],password:["",n.compose([n.required,n.minLength(8),n.maxLength(100)])],confirmPassword:["",n.compose([n.required,n.minLength(8),n.maxLength(100)])]})}ngOnInit(){let{email:l,otp:a}=this.route.snapshot.queryParams;(!l||!a)&&this.router.navigateByUrl("/").then(),this.formGroup.patchValue(this.route.snapshot.queryParams)}passwordsMatch(){let l=this.formGroup.get("password")?.value,a=this.formGroup.get("confirmPassword")?.value;return l===a}updatePassword(){return b(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid||!this.passwordsMatch())return;this.submitted=!0;let{response:l,status:a}=yield this.req.send(x.p_updatePassword,y.POST,this.formGroup.value);this.submitted=!1,a?(this.toast.show(l.message,"success"),yield this.router.navigateByUrl("/advisor/auth/login")):this.toast.show(l.message)})}static{this.\u0275fac=function(a){return new(a||t)(p(V),p(D),p(O),p(P),p(v),p(S))}}static{this.\u0275cmp=h({type:t,selectors:[["app-p-update-password"]],decls:26,vars:9,consts:[[1,"container","auth-pt","d-flex","justify-content-center"],[1,"custom-form","mt-4","text-center","mb-4",2,"max-width","520px",3,"formGroup"],[1,"p-4"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"font-16","font-w-400","Raleway"],[1,"w-100"],["type","password","matInput","","placeholder","**********","formControlName","password"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","confirmPassword"],["class","p-0 m-0 text-start","style","color: #f44336",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100",3,"click","disabled"],[1,"p-0","m-0","text-start",2,"color","#f44336"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),c(4,"img",4),o(5,"h1"),i(6,"Create New Password"),r(),o(7,"p",5),i(8,"Well done! Create new password for your account."),r()(),o(9,"mat-form-field",6)(10,"mat-label"),i(11,"New Password"),r(),c(12,"input",7),u(13,ft,2,0,"mat-error",8)(14,ut,2,0,"mat-error",8)(15,gt,2,0,"mat-error",8),r(),o(16,"mat-form-field",6)(17,"mat-label"),i(18,"Confirm New Password"),r(),c(19,"input",9),u(20,ht,2,0,"mat-error",8)(21,_t,2,0,"mat-error",8)(22,bt,2,0,"mat-error",8)(23,wt,2,0,"mat-hint",10),r(),o(24,"button",11),_("click",function(){return e.updatePassword()}),i(25,"Confirm"),r()()()()),a&2&&(m(),s("formGroup",e.formGroup),m(12),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"password")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"password")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"password")),m(5),s("ngIf",e.formValidation.controlHasError("required",e.formGroup,"confirmPassword")),m(),s("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"confirmPassword")),m(),s("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"confirmPassword")),m(),s("ngIf",!e.passwordsMatch()&&e.formValidation.isControlValid(e.formGroup,"confirmPassword")),m(),s("disabled",e.submitted))},dependencies:[R,I,L,z,H,k,w,C,G,M,E,q,N],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.secondary-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;padding:12px 24px;font-family:Raleway}.secondary-btn[_ngcontent-%COMP%]:active{border-radius:8px;background:#2f235290;text-align:center;font-family:Raleway}@media (max-width: 380px){.font-14[_ngcontent-%COMP%]{font-size:14px}}"]})}}return t})();var vt=[{path:"",component:ge,children:[{path:"login",component:he},{path:"register",component:_e},{path:"request-password",component:be},{path:"verify-otp",component:we},{path:"update-password",component:ve}]}],ye=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=B({type:t})}static{this.\u0275inj=A({imports:[re.forChild(vt),re]})}}return t})();var ur=(()=>{class t{static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275mod=B({type:t})}static{this.\u0275inj=A({imports:[le,ye,fe,ue,ce]})}}return t})();export{ur as AuthenticationModule};
