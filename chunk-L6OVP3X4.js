import{a as Ne,b as qe,c as He,d as Ge,e as Oe,f as je,g as Re,h as Ue,i as Le,j as Be,k as ze,l as $e,n as We,o as Je,p as Ye,q as Ke}from"./chunk-WR4MSQIL.js";import{a as O,b as L,c as Ve}from"./chunk-RTCW3ISG.js";import{a as Ze}from"./chunk-7GBOOENQ.js";import{D as Qe,E as Xe,j as ke,k as ae,l as se,q as Fe,s as De,y as Ae}from"./chunk-SLC7BCWE.js";import{$a as a,Bb as ve,Cb as xe,Db as y,Fb as ne,Ga as n,Gb as we,Ha as r,Hb as I,Ia as u,Ja as F,K as Z,Ka as D,Ma as P,N as ee,Ob as Ee,Pa as h,Q as E,Qa as b,R as te,Sb as ce,Ta as de,Tb as C,Ub as _,Vb as Se,W as x,X as w,Xb as S,Yb as M,Za as Y,_b as k,a as le,ab as A,ac as d,bb as z,cc as T,d as g,db as ge,dc as N,eb as _e,fb as be,fc as oe,ga as W,gc as Pe,hc as q,ia as s,ic as ye,ja as f,jb as Ce,jc as H,kc as G,kd as j,ld as R,mb as ie,md as me,nb as re,nc as V,oc as Ie,pc as Me,pd as U,qc as J,qd as Te,ra as p,wa as m}from"./chunk-EXCRJQW6.js";function dt(t,l){t&1&&(n(0,"mat-error"),a(1,"Name is required. "),r())}function ct(t,l){t&1&&(n(0,"mat-error"),a(1,"Name should be at least 2 character. "),r())}function pt(t,l){t&1&&(n(0,"mat-error"),a(1,"Name should has at most 150 character. "),r())}function ft(t,l){t&1&&(n(0,"mat-error"),a(1,"Bio is required. "),r())}function ut(t,l){t&1&&(n(0,"mat-error"),a(1,"Bio should be at least 32 character. "),r())}function ht(t,l){t&1&&(n(0,"mat-error"),a(1,"Bio should has at most 1000 character. "),r())}var it=(()=>{class t{constructor(i,o,e,c,v){this.fb=i,this.formValidation=o,this.req=e,this.toast=c,this.modal=v,this.submitted=!1,this.userService=ee(M),this.formGroup=i.group({name:["",d.compose([d.required,d.minLength(2),d.maxLength(150)])],bio:["",d.compose([d.required,d.minLength(32),d.maxLength(1e3)])]})}save(){return g(this,null,function*(){if(this.formGroup.invalid)return;this.submitted=!0;let{response:i,status:o}=yield this.req.send(_.p_editAdvisorProfile,C.PUT,this.formGroup.value);this.submitted=!1,o&&this.modal.close(this.formGroup.value)})}ngOnInit(){this.formGroup.patchValue(this.userService.currentUserValue)}static{this.\u0275fac=function(o){return new(o||t)(f(V),f(O),f(S),f(J),f(ae))}}static{this.\u0275cmp=E({type:t,selectors:[["app-edit-advisor-profile"]],decls:28,vars:8,consts:[[1,"modal-header","border-0"],[1,"modal-title"],[1,"font-w-600","font-24","m-0","text-white"],["type","button",1,"btn-close","d-flex","justify-content-center","align-items-center","flex-shrink-0",3,"click"],["ngSrc","assets/icons/close.svg","alt","Close","height","17","width","17"],[1,"modal-body"],[1,"container"],[1,"row","text-white"],[1,"col-lg-12","gap-2","mb-4"],[3,"formGroup"],[1,"p-4"],[1,"w-100"],["type","text","matInput","","placeholder","Joe Doe","formControlName","name"],[4,"ngIf"],["matInput","","placeholder","Ex. It makes me feel...","formControlName","bio"],[1,"btn","text-dark","custom-btn","font-16","font-w-700","w-100",3,"click","disabled"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"div",1)(2,"p",2),a(3,"Edit Profile!"),r()(),n(4,"button",3),h("click",function(){return e.modal.dismiss()}),u(5,"img",4),r()(),n(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"form",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),a(14,"Full Name"),r(),u(15,"input",12),p(16,dt,2,0,"mat-error",13)(17,ct,2,0,"mat-error",13)(18,pt,2,0,"mat-error",13),r(),n(19,"mat-form-field",11)(20,"mat-label"),a(21,"Bio"),r(),u(22,"textarea",14),p(23,ft,2,0,"mat-error",13)(24,ut,2,0,"mat-error",13)(25,ht,2,0,"mat-error",13),r(),n(26,"button",15),h("click",function(){return e.save()}),a(27,"Save"),r()()()()()()()),o&2&&(s(10),m("formGroup",e.formGroup),s(6),m("ngIf",e.formValidation.controlHasError("required",e.formGroup,"name")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"name")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"name")),s(5),m("ngIf",e.formValidation.controlHasError("required",e.formGroup,"bio")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"bio")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"bio")),s(),m("disabled",e.submitted))},dependencies:[y,q,k,T,N,U,j,R,L,I,H,G],styles:[".btn-close[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;width:30px;height:30px}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}"]})}}return t})();function gt(t,l){if(t&1){let i=P();n(0,"img",16),h("click",function(){x(i);let e=b();return w(e.openEdit())}),r()}}function _t(t,l){if(t&1){let i=P();n(0,"button",17),h("click",function(){x(i);let e=b();return w(e.subscribe(!0))}),a(1,"Subscribe"),r()}}function bt(t,l){if(t&1){let i=P();n(0,"button",17),h("click",function(){x(i);let e=b();return w(e.subscribe(!1))}),a(1,"Unsubscribe"),r()}}function Ct(t,l){if(t&1&&u(0,"img",28),t&2){let i=b(2);m("src",i.base64,W)}}function vt(t,l){if(t&1){let i=P();n(0,"div",18)(1,"div",19)(2,"div",4),u(3,"img",20),r(),n(4,"div",21)(5,"textarea",22),h("input",function(e){x(i);let c=b();return w(c.onInput(e))}),be("ngModelChange",function(e){x(i);let c=b();return _e(c.newPostMessage,e)||(c.newPostMessage=e),w(e)}),r()()(),n(6,"div",23)(7,"button",24),h("click",function(){x(i);let e=b();return w(e.newPost())}),a(8,"Post"),r(),n(9,"div",25)(10,"input",5,1),h("change",function(e){x(i);let c=Y(11);return b().attachImg(e),w(c.value="")}),r(),n(12,"button",26),h("click",function(){x(i);let e=Y(11);return w(e.click())}),a(13,"Attach Image"),r(),p(14,Ct,1,1,"img",27),r()()()}if(t&2){let i=b();s(3),m("src",i.advisor.avatar||"assets/images/bitcoin2.png",W),s(2),ge("ngModel",i.newPostMessage),s(9),m("ngIf",i.base64)}}function xt(t,l){if(t&1){let i=P();n(0,"div",35)(1,"button",36),h("click",function(){x(i);let e=b().$implicit,c=b();return w(c.openConfirm(e.id))}),a(2,"Delete"),r()()}}function wt(t,l){if(t&1&&(n(0,"div",37),u(1,"img",38),r()),t&2){let i=b().$implicit;s(),de("src",i.img,W)}}function Et(t,l){if(t&1&&(n(0,"div",29)(1,"div",8)(2,"div",30)(3,"div",4),u(4,"img",20),r(),n(5,"div",31)(6,"span"),a(7),r(),n(8,"span",32),a(9),ie(10,"date"),r()()(),p(11,xt,3,0,"div",33),r(),n(12,"div",31)(13,"p"),a(14),r(),p(15,wt,2,1,"div",34),r()()),t&2){let i=l.$implicit,o=b();s(4),de("src",o.advisor.avatar||"assets/images/bitcoin2.png",W),s(3),A(o.advisor.name),s(2),A(re(10,6,i.createdAt)),s(2),m("ngIf",o.isMine),s(3),A(i.message),s(),m("ngIf",i.img)}}var rt=(()=>{class t{constructor(i,o,e,c){this.modalService=i,this.userService=o,this.route=e,this.req=c,this.advisor={},this.isMine=!1,this.isSubscribed=!1,this.posts=[],this.newPostMessage="",this.newPostImg="",this.base64=""}ngOnInit(){try{let{id:i}=this.route.snapshot.params;this.getAdvisorData(i),this._getPosts()}catch{}}getAdvisorData(i){return g(this,null,function*(){this.advisor.id=i;let{status:o,response:e}=yield this.req.send(`${_.p_getAdvisorProfile}?id=${i}`,C.GET);o&&(this.advisor=le(le({},this.advisor),e.data),this.isMine=Se.ADVISOR===this.userService.currentUserTypeValue&&this.advisor.id==this.userService.currentUserValue.id,this.isMine||this._checkSubscription())})}subscribe(i){return g(this,null,function*(){let{status:o,response:e}=yield this.req.send(`${i?_.subscribe:_.unsubscribe}`,C.PUT,{id:this.advisor.id});o&&(this.isSubscribed=i)})}_checkSubscription(){return g(this,null,function*(){let{status:i,response:o}=yield this.req.send(`${_.subscribe}?check=true`,C.PUT,{id:this.advisor.id});i||(this.isSubscribed=!0)})}_getPosts(){return g(this,null,function*(){let{status:i,response:o}=yield this.req.send(`${_.p_getAdvisorPosts}?id=${this.advisor.id}`,C.GET);i&&(this.posts=o.data)})}openConfirm(i){let o=this.modalService.open(De,{modalDialogClass:"surface-bg rounded-3"});o.componentInstance.title="Delete Post",o.componentInstance.message="Are you sure you want to Delete your Post?",o.componentInstance.message2="All information associated to this Post will be permanently deleted.",o.closed.subscribe(e=>g(this,null,function*(){if(e){let{response:c,status:v}=yield this.req.send(_.p_deletePost,C.PUT,{id:i});v&&(this.posts=this.posts.filter(B=>B.id!==i))}}))}openEdit(){this.modalService.open(it,{modalDialogClass:"surface-bg rounded-3",size:"xl"}).closed.subscribe(o=>g(this,null,function*(){o&&(this.advisor.name=o.name,this.advisor.bio=o.bio)}))}uploadImage(i){return g(this,null,function*(){if(i.target.files.length===0)return;let o=i.target.files[0];if(o.type.match(/image\/*/)==null)return;let c=new FormData;c.append("avatar",o,o.name);let{response:v,status:B}=yield this.req.send(`${_.p_changeAdvisorProfile}`,C.PUT,c);B&&(this.advisor.avatar=v.data)})}onInput(i){i.target&&(i.target.style.height=24,i.target.style.height=i.target.scrollHeight+"px")}newPost(){return g(this,null,function*(){if(this.newPostMessage.length>32){let i=new FormData,o=this.newPostMessage;i.set("message",o),this.newPostImg&&i.append("img",this.newPostImg,this.newPostImg.name);let{response:e,status:c}=yield this.req.send(`${_.p_addNewPost}`,C.PUT,i);c&&(this.newPostMessage="",this.base64="",this._getPosts())}})}readImage(i){return g(this,null,function*(){return new Promise((o,e)=>{let c=new FileReader;c.onload=v=>{c.result&&o(c.result.toString())},c.readAsDataURL(i)})})}attachImg(i){return g(this,null,function*(){if(i.target.files.length===0)return;let o=i.target.files[0];o.type.match(/image\/*/)!=null&&(this.newPostImg=o,this.base64=yield this.readImage(o))})}static{this.\u0275fac=function(o){return new(o||t)(f(se),f(M),f(Ee),f(S))}}static{this.\u0275cmp=E({type:t,selectors:[["app-main-profile"]],decls:18,vars:8,consts:[["profileFile",""],["postImg",""],[1,"row","py-3","gap-5","justify-content-center"],[1,"col-12","d-flex","flex-column","flex-lg-row","justify-content-center","align-items-center","gap-3","text-white"],[1,"ratio-1x1","position-relative"],["type","file","accept","image/*",1,"d-none",3,"change"],["height","168",1,"ratio-1","radius-50","cursor-pointer",3,"click","src"],[1,"d-flex","flex-column","w-100","gap-2"],[1,"d-flex","justify-content-between","w-100"],[1,"font-18"],["src","assets/icons/edit.svg","class","cursor-pointer",3,"click",4,"ngIf"],["class","btn green-btn text-dark",3,"click",4,"ngIf"],[1,"font-14"],["class","col-12 d-flex flex-column py-2 text-white surface-bg align-items-center justify-content-center rounded-2",4,"ngIf"],[1,"col-lg-6","d-flex","flex-column","gap-3"],["class","d-flex flex-column p-2 gap-3 text-white post align-items-center justify-content-center rounded-2",4,"ngFor","ngForOf"],["src","assets/icons/edit.svg",1,"cursor-pointer",3,"click"],[1,"btn","green-btn","text-dark",3,"click"],[1,"col-12","d-flex","flex-column","py-2","text-white","surface-bg","align-items-center","justify-content-center","rounded-2"],[1,"w-100","d-flex","gap-3","align-items-center","justify-content-center"],["height","40",1,"ratio-1","radius-50",3,"src"],[1,"w-100","py-3"],["placeholder","Whats happening?!","rows","1",1,"bg-transparent","border-0","w-100","post-area","text-white","font-18","text-break",3,"input","ngModelChange","ngModel"],[1,"float-end","w-100"],[1,"btn","text-dark","mx-2","green-btn","font-16","font-w-700","border-0","float-end","px-5",3,"click"],[1,"mx-2"],[1,"btn","text-dark","green-btn","font-16","font-w-700","border-0","float-end","px-5",3,"click"],["height","50","width","50",3,"src",4,"ngIf"],["height","50","width","50",3,"src"],[1,"d-flex","flex-column","p-2","gap-3","text-white","post","align-items-center","justify-content-center","rounded-2"],[1,"d-flex","gap-3"],[1,"d-flex","flex-column"],[1,"text-secondary"],["class","d-flex align-items-center",4,"ngIf"],["class","position-relative ratio-16x9",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"btn","btn-danger",3,"click"],[1,"position-relative","ratio-16x9"],[1,"w-100","object-fit-cover",2,"aspect-ratio","16/9",3,"src"]],template:function(o,e){if(o&1){let c=P();n(0,"div",2)(1,"div",3)(2,"div",4)(3,"input",5,0),h("change",function(B){x(c);let lt=Y(4);return e.uploadImage(B),w(lt.value="")}),r(),n(5,"img",6),h("click",function(){x(c);let B=Y(4);return w(e.isMine?B.click():"")}),r()(),n(6,"div",7)(7,"div",8)(8,"span",9),a(9),p(10,gt,1,0,"img",10),r(),p(11,_t,2,0,"button",11)(12,bt,2,0,"button",11),r(),n(13,"span",12),a(14),r()()(),p(15,vt,15,3,"div",13),n(16,"div",14),p(17,Et,16,8,"div",15),r()()}o&2&&(s(5),m("src",e.advisor.avatar||"assets/images/bitcoin2.png",W),s(4),z("",e.advisor.name," "),s(),m("ngIf",e.isMine),s(),m("ngIf",!e.isMine&&!e.isSubscribed),s(),m("ngIf",!e.isMine&&e.isSubscribed),s(2),A(e.advisor.bio),s(),m("ngIf",e.isMine),s(2),m("ngForOf",e.posts))},dependencies:[xe,y,k,T,Pe,ne],styles:[".post-area[_ngcontent-%COMP%]::-webkit-resizer{background:none;outline:none}.post-area[_ngcontent-%COMP%]:focus-visible{outline:none}.post[_ngcontent-%COMP%]{background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:transparent}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}"]})}}return t})();function St(t,l){t&1&&(n(0,"mat-error"),a(1,"Old Password is required. "),r())}function Pt(t,l){t&1&&(n(0,"mat-error"),a(1,"Old Password should be at least 8 character. "),r())}function yt(t,l){t&1&&(n(0,"mat-error"),a(1,"Old Password should has at most 100 character. "),r())}function It(t,l){t&1&&(n(0,"mat-error"),a(1,"Password is required. "),r())}function Mt(t,l){t&1&&(n(0,"mat-error"),a(1,"Password should be at least 8 character. "),r())}function kt(t,l){t&1&&(n(0,"mat-error"),a(1,"Password should has at most 100 character. "),r())}function Tt(t,l){t&1&&(n(0,"mat-error"),a(1,"Confirm Password is required. "),r())}function Vt(t,l){t&1&&(n(0,"mat-error"),a(1,"Confirm Password should be at least 8 character. "),r())}function Ft(t,l){t&1&&(n(0,"mat-error"),a(1,"Confirm Password should has at most 100 character. "),r())}function Dt(t,l){t&1&&(n(0,"mat-hint",12),a(1,"Passwords Mismatch. "),r())}var nt=(()=>{class t{constructor(i,o,e,c,v){this.fb=i,this.formValidation=o,this.req=e,this.userService=c,this.toast=v,this.submitted=!1,this.formGroup=i.group({old_pass:["",d.compose([d.required,d.minLength(8),d.maxLength(100)])],password:["",d.compose([d.required,d.minLength(8),d.maxLength(100)])],confirmPassword:["",d.compose([d.required,d.minLength(8),d.maxLength(100)])]})}passwordsMatch(){let i=this.formGroup.get("password")?.value,o=this.formGroup.get("confirmPassword")?.value;return i===o}changePassword(){return g(this,null,function*(){if(this.formGroup.markAllAsTouched(),this.formGroup.invalid||!this.passwordsMatch())return;this.submitted=!0;let{response:i,status:o}=yield this.req.send(_.p_changePassword,C.PUT,this.formGroup.value);if(this.submitted=!1,o)this.toast.show(i.message,"success"),this.formGroup.reset();else{let e=this.userService.checkAuthorization(i.message);this.toast.show(e)}})}static{this.\u0275fac=function(o){return new(o||t)(f(V),f(O),f(S),f(M),f(J))}}static{this.\u0275cmp=E({type:t,selectors:[["app-p-change-password"]],decls:31,vars:12,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"mb-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"p-4"],[1,"w-100","mb-2"],["type","password","matInput","","placeholder","**********","formControlName","old_pass"],[4,"ngIf"],["type","password","matInput","","placeholder","**********","formControlName","password"],["type","password","matInput","","placeholder","**********","formControlName","confirmPassword"],["class","p-0 m-0 text-start","style","color: #f44336",4,"ngIf"],[1,"btn","text-dark","custom-btn","w-100",3,"click","disabled"],[1,"p-0","m-0","text-start",2,"color","#f44336"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"div",1),u(2,"img",2),n(3,"h1"),a(4,"Change Your Password"),r()(),n(5,"form",3)(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),a(9,"Old Password"),r(),u(10,"input",6),p(11,St,2,0,"mat-error",7)(12,Pt,2,0,"mat-error",7)(13,yt,2,0,"mat-error",7),r(),n(14,"mat-form-field",5)(15,"mat-label"),a(16,"New Password"),r(),u(17,"input",8),p(18,It,2,0,"mat-error",7)(19,Mt,2,0,"mat-error",7)(20,kt,2,0,"mat-error",7),r(),n(21,"mat-form-field",5)(22,"mat-label"),a(23,"Confirm New Password"),r(),u(24,"input",9),p(25,Tt,2,0,"mat-error",7)(26,Vt,2,0,"mat-error",7)(27,Ft,2,0,"mat-error",7)(28,Dt,2,0,"mat-hint",10),r(),n(29,"button",11),h("click",function(){return e.changePassword()}),a(30,"Confirm"),r()()()()),o&2&&(s(5),m("formGroup",e.formGroup),s(6),m("ngIf",e.formValidation.controlHasError("required",e.formGroup,"old_pass")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"old_pass")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"old_pass")),s(5),m("ngIf",e.formValidation.controlHasError("required",e.formGroup,"password")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"password")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"password")),s(5),m("ngIf",e.formValidation.controlHasError("required",e.formGroup,"confirmPassword")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.formGroup,"confirmPassword")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.formGroup,"confirmPassword")),s(),m("ngIf",!e.passwordsMatch()&&e.formValidation.isControlValid(e.formGroup,"confirmPassword")),s(),m("disabled",e.submitted))},dependencies:[y,q,k,T,N,U,j,me,R,L,I,H,G],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return t})();function At(t,l){t&1&&(n(0,"mat-error"),a(1,"Address 1 is required. "),r())}function Nt(t,l){t&1&&(n(0,"mat-error"),a(1,"Address 1 should be at least 5 character. "),r())}function qt(t,l){t&1&&(n(0,"mat-error"),a(1,"Address 1 should has at most 255 character. "),r())}function Ht(t,l){t&1&&(n(0,"mat-error"),a(1,"Address 2 should has at most 255 character. "),r())}function Gt(t,l){t&1&&(n(0,"mat-error"),a(1,"City is required. "),r())}function Ot(t,l){t&1&&(n(0,"mat-error"),a(1,"City should be at least 2 character. "),r())}function jt(t,l){t&1&&(n(0,"mat-error"),a(1,"City should has at most 100 character. "),r())}function Rt(t,l){t&1&&(n(0,"mat-error"),a(1,"Country is required. "),r())}function Ut(t,l){t&1&&(n(0,"mat-error"),a(1,"Country should be at least 2 character. "),r())}function Lt(t,l){t&1&&(n(0,"mat-error"),a(1,"Country should has at most 100 character. "),r())}function Bt(t,l){t&1&&(n(0,"mat-error"),a(1,"Name is required. "),r())}function zt(t,l){t&1&&(n(0,"mat-error"),a(1,"Name should be at least 8 characters. "),r())}function $t(t,l){t&1&&(n(0,"mat-error"),a(1,"Name should has at most 150 characters. "),r())}function Wt(t,l){t&1&&(n(0,"mat-error"),a(1,"Phone is required. "),r())}function Jt(t,l){t&1&&(n(0,"mat-error"),a(1,"Phone should be at least 10 characters. "),r())}function Yt(t,l){t&1&&(n(0,"mat-error"),a(1,"Phone should has at most 20 characters. "),r())}function Kt(t,l){t&1&&(n(0,"mat-error"),a(1,"Bank Name is required. "),r())}function Qt(t,l){t&1&&(n(0,"mat-error"),a(1,"Bank Name should be at least 5 characters. "),r())}function Xt(t,l){t&1&&(n(0,"mat-error"),a(1,"Bank Name should has at most 255 characters. "),r())}function Zt(t,l){t&1&&(n(0,"mat-error"),a(1,"Bank Account is required. "),r())}function ei(t,l){t&1&&(n(0,"mat-error"),a(1,"Bank Account should be at least 5 characters. "),r())}function ti(t,l){t&1&&(n(0,"mat-error"),a(1,"Bank Account should has at most 100 characters. "),r())}var ot=(()=>{class t{constructor(i,o,e,c,v){this.fb=i,this.formValidation=o,this.req=e,this.userService=c,this.toast=v,this.addressSubmitted=!1,this.personalSubmitted=!1,this.bankSubmitted=!1,this.addressForm=i.group({address1:["",d.compose([d.required,d.minLength(5),d.maxLength(255)])],address2:["",d.compose([d.maxLength(255)])],city:["",d.compose([d.required,d.minLength(2),d.maxLength(100)])],country:["",d.compose([d.required,d.minLength(2),d.maxLength(100)])]}),this.personalForm=i.group({name:["",d.compose([d.required,d.minLength(8),d.maxLength(150)])],phone:["",d.compose([d.required,d.minLength(10),d.maxLength(20)])]}),this.bankForm=i.group({bank_name:["",d.compose([d.required,d.minLength(5),d.maxLength(255)])],bank_account:["",d.compose([d.required,d.minLength(5),d.maxLength(100)])]})}ngOnInit(){this.addressForm.patchValue(this.userService.currentUserValue),this.personalForm.patchValue(this.userService.currentUserValue),this.bankForm.patchValue(this.userService.currentUserValue)}changeAddress(){return g(this,null,function*(){if(this.addressForm.markAllAsTouched(),this.addressForm.invalid)return;this.addressSubmitted=!0;let{response:i,status:o}=yield this.req.send(_.p_changeAddress,C.PUT,this.addressForm.value);if(this.addressSubmitted=!1,o)this.userService.refreshUser(this.addressForm.value),this.toast.show(i.message,"success");else{let e=this.userService.checkAuthorization(i.message);this.toast.show(e)}})}changePersonal(){return g(this,null,function*(){if(this.personalForm.markAllAsTouched(),this.personalForm.invalid)return;this.personalSubmitted=!0;let{response:i,status:o}=yield this.req.send(_.p_changePersonal,C.PUT,this.personalForm.value);if(this.personalSubmitted=!1,o)this.userService.refreshUser(this.personalForm.value),this.toast.show(i.message,"success");else{let e=this.userService.checkAuthorization(i.message);this.toast.show(e)}})}changeBankInfo(){return g(this,null,function*(){if(this.bankForm.markAllAsTouched(),this.bankForm.invalid)return;this.bankSubmitted=!0;let{response:i,status:o}=yield this.req.send(_.p_changeBankInfo,C.PUT,this.bankForm.value);if(this.bankSubmitted=!1,o)this.userService.refreshUser(this.bankForm.value),this.toast.show(i.message,"success");else{let e=this.userService.checkAuthorization(i.message);this.toast.show(e)}})}static{this.\u0275fac=function(o){return new(o||t)(f(V),f(O),f(S),f(M),f(J))}}static{this.\u0275cmp=E({type:t,selectors:[["app-p-change-information"]],decls:81,vars:28,consts:[[1,"d-flex","flex-column","align-items-center","justify-content-center","text-center","gap-3"],[1,"my-4","custom-form",2,"max-width","472px",3,"formGroup"],[1,"mb-4"],["ngSrc","assets/icons/btc.svg","alt","Btc login ","height","55","width","56"],[1,"p-4"],[1,"w-100","mb-2"],["type","text","matInput","","placeholder","Abood st.","formControlName","address1"],[4,"ngIf"],["type","text","matInput","","placeholder","Abood st2.","formControlName","address2"],["type","text","matInput","","placeholder","Gaza","formControlName","city"],["type","text","matInput","","placeholder","PS","formControlName","country"],[1,"btn","text-dark","custom-btn","w-100",3,"click","disabled"],["type","text","matInput","","placeholder","Joe Doe","formControlName","name"],["type","text","matInput","","placeholder","+0000000000000","formControlName","phone"],["type","text","matInput","","placeholder","Bank Of Palestine","formControlName","bank_name"],["type","text","matInput","","placeholder","000000000","formControlName","bank_account"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"form",1)(2,"div",2),u(3,"img",3),n(4,"h1"),a(5,"Edit Address"),r()(),n(6,"div",4)(7,"mat-form-field",5)(8,"mat-label"),a(9,"Address 1"),r(),u(10,"input",6),p(11,At,2,0,"mat-error",7)(12,Nt,2,0,"mat-error",7)(13,qt,2,0,"mat-error",7),r(),n(14,"mat-form-field",5)(15,"mat-label"),a(16,"Address 2"),r(),u(17,"input",8),p(18,Ht,2,0,"mat-error",7),n(19,"mat-hint"),a(20,"Optional"),r()(),n(21,"mat-form-field",5)(22,"mat-label"),a(23,"City"),r(),u(24,"input",9),p(25,Gt,2,0,"mat-error",7)(26,Ot,2,0,"mat-error",7)(27,jt,2,0,"mat-error",7),r(),n(28,"mat-form-field",5)(29,"mat-label"),a(30,"Country"),r(),u(31,"input",10),p(32,Rt,2,0,"mat-error",7)(33,Ut,2,0,"mat-error",7)(34,Lt,2,0,"mat-error",7),r(),n(35,"button",11),h("click",function(){return e.changeAddress()}),a(36,"Change Address"),r()()(),n(37,"form",1)(38,"div",2),u(39,"img",3),n(40,"h1"),a(41,"Edit Personal"),r()(),n(42,"div",4)(43,"mat-form-field",5)(44,"mat-label"),a(45,"Name"),r(),u(46,"input",12),p(47,Bt,2,0,"mat-error",7)(48,zt,2,0,"mat-error",7)(49,$t,2,0,"mat-error",7),r(),n(50,"mat-form-field",5)(51,"mat-label"),a(52,"Phone"),r(),u(53,"input",13),p(54,Wt,2,0,"mat-error",7)(55,Jt,2,0,"mat-error",7)(56,Yt,2,0,"mat-error",7),r(),n(57,"button",11),h("click",function(){return e.changePersonal()}),a(58,"Submit"),r()()(),n(59,"form",1)(60,"div",2),u(61,"img",3),n(62,"h1"),a(63,"Edit Bank Information"),r()(),n(64,"div",4)(65,"mat-form-field",5)(66,"mat-label"),a(67,"Bank Name"),r(),u(68,"input",14),p(69,Kt,2,0,"mat-error",7)(70,Qt,2,0,"mat-error",7)(71,Xt,2,0,"mat-error",7),r(),n(72,"mat-form-field",5)(73,"mat-label"),a(74,"Bank Account"),r(),u(75,"input",15),p(76,Zt,2,0,"mat-error",7)(77,ei,2,0,"mat-error",7)(78,ti,2,0,"mat-error",7),r(),n(79,"button",11),h("click",function(){return e.changeBankInfo()}),a(80,"Submit"),r()()()()),o&2&&(s(),m("formGroup",e.addressForm),s(10),m("ngIf",e.formValidation.controlHasError("required",e.addressForm,"address1")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.addressForm,"address1")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.addressForm,"address1")),s(5),m("ngIf",e.formValidation.controlHasError("maxlength",e.addressForm,"address2")),s(7),m("ngIf",e.formValidation.controlHasError("required",e.addressForm,"city")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.addressForm,"city")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.addressForm,"city")),s(5),m("ngIf",e.formValidation.controlHasError("required",e.addressForm,"country")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.addressForm,"country")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.addressForm,"country")),s(),m("disabled",e.addressSubmitted),s(2),m("formGroup",e.personalForm),s(10),m("ngIf",e.formValidation.controlHasError("required",e.personalForm,"name")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.personalForm,"name")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.personalForm,"name")),s(5),m("ngIf",e.formValidation.controlHasError("required",e.personalForm,"phone")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.personalForm,"phone")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.personalForm,"phone")),s(),m("disabled",e.personalSubmitted),s(2),m("formGroup",e.bankForm),s(10),m("ngIf",e.formValidation.controlHasError("required",e.bankForm,"bank_name")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.bankForm,"bank_name")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.bankForm,"bank_name")),s(5),m("ngIf",e.formValidation.controlHasError("required",e.bankForm,"bank_account")),s(),m("ngIf",e.formValidation.controlHasError("minlength",e.bankForm,"bank_account")),s(),m("ngIf",e.formValidation.controlHasError("maxlength",e.bankForm,"bank_account")),s(),m("disabled",e.bankSubmitted))},dependencies:[y,q,k,T,N,U,j,me,R,L,I,H,G],styles:[".custom-form[_ngcontent-%COMP%]{border-radius:8px;background:#0a273b80;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}.register-btn[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;text-align:center;font-family:Raleway}.custom-hr[_ngcontent-%COMP%]{border:none;border-top:1px solid white;width:100%;max-width:472px;margin:24px 0}.background-custom[_ngcontent-%COMP%]{background-image:linear-gradient(205.41deg,#611c6f,#2d1445 192.46%)}"]})}}return t})();function ii(t,l){t&1&&(n(0,"mat-error"),a(1,"Expected Amount is required. "),r())}function ri(t,l){t&1&&(n(0,"mat-error"),a(1,"Expected Amount should be at least 1. "),r())}var at=(()=>{class t{constructor(i,o,e,c){this.fb=i,this.formValidation=o,this.req=e,this.modal=c,this.submitted=!1,this.expected=0,this.formGroup=i.group({expected:[this.expected,d.compose([d.required,d.min(1)])],id:[this.id,d.compose([d.required,d.min(1)])]})}save(){return g(this,null,function*(){if(this.formGroup.invalid)return;this.submitted=!0;let{status:i}=yield this.req.send(_.p_editExpectedAmount,C.PUT,this.formGroup.value);this.submitted=!1,i&&this.modal.close(this.formGroup.value)})}ngOnInit(){this.formGroup.patchValue({expected:this.expected,id:this.id})}static{this.\u0275fac=function(o){return new(o||t)(f(V),f(O),f(S),f(ae))}}static{this.\u0275cmp=E({type:t,selectors:[["app-edit-expected-modal"]],inputs:{expected:"expected",id:"id"},decls:20,vars:4,consts:[[1,"modal-header","border-0"],[1,"modal-title"],[1,"font-w-600","font-24","m-0","text-white"],["type","button",1,"btn-close","d-flex","justify-content-center","align-items-center","flex-shrink-0",3,"click"],["ngSrc","assets/icons/close.svg","alt","Close","height","17","width","17"],[1,"modal-body"],[1,"container"],[1,"row","text-white"],[1,"col-lg-12","gap-2","mb-4"],[3,"formGroup"],[1,"p-4"],[1,"w-100"],["type","number","matInput","","placeholder","Joe Doe","formControlName","expected"],[4,"ngIf"],[1,"btn","text-dark","custom-btn","font-16","font-w-700","w-100",3,"click","disabled"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"div",1)(2,"p",2),a(3,"Edit Expected!"),r()(),n(4,"button",3),h("click",function(){return e.modal.dismiss()}),u(5,"img",4),r()(),n(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"form",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),a(14,"Expected Amount"),r(),u(15,"input",12),p(16,ii,2,0,"mat-error",13)(17,ri,2,0,"mat-error",13),r(),n(18,"button",14),h("click",function(){return e.save()}),a(19,"Save"),r()()()()()()()),o&2&&(s(10),m("formGroup",e.formGroup),s(6),m("ngIf",e.formValidation.controlHasError("required",e.formGroup,"expected")),s(),m("ngIf",e.formValidation.controlHasError("min",e.formGroup,"expected")),s(),m("disabled",e.submitted))},dependencies:[y,q,k,ye,T,N,U,j,R,L,I,H,G],styles:[".btn-close[_ngcontent-%COMP%]{border-radius:8px;background:#2f2352;width:30px;height:30px}.custom-btn[_ngcontent-%COMP%]{border-radius:8px;background:#01d5bf}.custom-btn[_ngcontent-%COMP%]:active{background:#01d5bf90}.heading-1[_ngcontent-%COMP%]{font-family:Raleway;font-size:50px;font-style:normal;font-weight:700;line-height:normal}"]})}}return t})();var ni=t=>({highlight:t});function oi(t,l){t&1&&(n(0,"th",17),a(1,"#"),r())}function ai(t,l){if(t&1&&(n(0,"td",18),a(1),r()),t&2){let i=l.index;s(),A(i+1)}}function si(t,l){t&1&&(n(0,"th",19),a(1,"Deposited"),r())}function mi(t,l){if(t&1&&(n(0,"td",18),a(1),r()),t&2){let i=l.$implicit;s(),z(" ",i.deposit," ")}}function li(t,l){t&1&&(n(0,"th",19),a(1,"Current Amount$"),r())}function di(t,l){if(t&1&&(n(0,"td",18),a(1),r()),t&2){let i=l.$implicit;s(),A(i.currently)}}function ci(t,l){t&1&&(n(0,"th",19),a(1,"Client"),r())}function pi(t,l){if(t&1&&(n(0,"td",18),a(1),r()),t&2){let i=l.$implicit;s(),z(" ",i.my_advisor.user.name," ")}}function fi(t,l){t&1&&(n(0,"th",19),a(1,"Trusted Since"),r())}function ui(t,l){if(t&1&&(n(0,"td",18),a(1),ie(2,"date"),r()),t&2){let i=l.$implicit;s(),z(" ",re(2,1,i.createdAt)," ")}}function hi(t,l){t&1&&(n(0,"th",19),a(1,"Expected Amount"),r())}function gi(t,l){if(t&1&&(n(0,"td",18),a(1),r()),t&2){let i=l.$implicit;s(),z(" ",i.expected," ")}}function _i(t,l){t&1&&(n(0,"th",17),a(1," Actions "),r())}function bi(t,l){if(t&1){let i=P();n(0,"td",20)(1,"img",21),h("click",function(){let e=x(i).$implicit,c=b();return w(c.openEditExpected(e))}),r()()}}function Ci(t,l){t&1&&u(0,"tr",22)}function vi(t,l){if(t&1){let i=P();n(0,"tr",23),h("click",function(){let e=x(i).$implicit,c=b();return w(c.selectedRowIndex=e.id)}),r()}if(t&2){let i=l.$implicit,o=b();m("ngClass",Ce(1,ni,o.selectedRowIndex==i.id))}}var st=(()=>{class t{constructor(i,o,e){this.fb=i,this.req=o,this.userService=e,this.sorting={column:"id",direction:"DESC"},this.count=10,this.isLoading=!1,this.accounts=[],this.dataSource=new $e(this.accounts),this.displayedColumns=["index","deposit","currentAmount","client","trustedSince","expectedAmount","actions"],this.selectedRowIndex="",this.selection=new Ae(!0,[]),this.modalService=ee(se),this.form=this.fb.group({column:new oe(this.sorting.column),direction:new oe(this.sorting.direction),offset:new oe(0)})}ngOnInit(){this.fetchFunds()}isAllSelected(){let i=this.selection.selected.length,o=this.dataSource.data.length;return i===o}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(i=>this.selection.select(i))}sort(i){i.direction&&(this.form.get("column").setValue(i.active),this.form.get("direction").setValue(i.direction.toUpperCase()),this.fetchFunds())}fetchFunds(){return g(this,null,function*(){this.isLoading=!0;let i=this.form.get("direction")?.value==="ASC"?0:1,{response:o,status:e}=yield this.req.send(`${_.p_trusts}?offset=${this.form.get("offset")?.value}&order=${i}&column=${this.form.get("column")?.value}`);e?(this.dataSource.data=o.data,this.count=o.count,this.selection.clear()):this.userService.checkAuthorization(o.message)})}pageChange(i){this.form.get("offset").setValue(i-1),this.fetchFunds()}openEditExpected(i){let o=this.modalService.open(at,{modalDialogClass:"surface-bg rounded-3"});o.componentInstance.id=i.id,o.componentInstance.expected=i.expected,o.closed.subscribe(e=>g(this,null,function*(){e&&(i.expected=e.expected)}))}static{this.\u0275fac=function(o){return new(o||t)(f(V),f(S),f(M))}}static{this.\u0275cmp=E({type:t,selectors:[["app-dasboard"]],decls:27,vars:4,consts:[[1,"table-responsive","custom-table","mx-3"],["mat-table","","matSort","",1,"mat-elevation-z8","bg-transparent","text-white",3,"matSortChange","dataSource"],["matColumnDef","index"],["mat-header-cell","","class","text-white table-header",4,"matHeaderCellDef"],["mat-cell","","class","text-white",4,"matCellDef"],["matColumnDef","deposit"],["mat-header-cell","","mat-sort-header","","class","text-white table-header",4,"matHeaderCellDef"],["matColumnDef","currentAmount"],["matColumnDef","client"],["matColumnDef","trustedSince"],["matColumnDef","expectedAmount"],["matColumnDef","actions"],["mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[1,"d-flex","justify-content-center","align-items-center","position-relative","w-100"],[1,"flex-grow-1","w-100",3,"pageChange","totalItems"],["mat-header-cell","",1,"text-white","table-header"],["mat-cell","",1,"text-white"],["mat-header-cell","","mat-sort-header","",1,"text-white","table-header"],["mat-cell",""],["ngSrc","/assets/icons/edit.svg","alt","edit info","height","24","width","24",1,"cursor-pointer",3,"click"],["mat-header-row",""],["mat-row","",3,"click","ngClass"]],template:function(o,e){o&1&&(n(0,"div",0)(1,"table",1),h("matSortChange",function(v){return e.sort(v)}),F(2,2),p(3,oi,2,0,"th",3)(4,ai,2,1,"td",4),D(),F(5,5),p(6,si,2,0,"th",6)(7,mi,2,1,"td",4),D(),F(8,7),p(9,li,2,0,"th",6)(10,di,2,1,"td",4),D(),F(11,8),p(12,ci,2,0,"th",6)(13,pi,2,1,"td",4),D(),F(14,9),p(15,fi,2,0,"th",6)(16,ui,3,3,"td",4),D(),F(17,10),p(18,hi,2,0,"th",6)(19,gi,2,1,"td",4),D(),F(20,11),p(21,_i,2,0,"th",3)(22,bi,2,0,"td",12),D(),p(23,Ci,1,0,"tr",13)(24,vi,1,3,"tr",14),r(),n(25,"div",15)(26,"app-paginator",16),h("pageChange",function(v){return e.pageChange(v)}),r()()()),o&2&&(s(),m("dataSource",e.dataSource),s(22),m("matHeaderRowDef",e.displayedColumns),s(),m("matRowDefColumns",e.displayedColumns),s(2),m("totalItems",e.count))},dependencies:[ve,I,Ne,He,Re,Ge,qe,Ue,Oe,je,Le,Be,Je,Ye,Fe,ne]})}}return t})();var xi=[{path:"",component:Ze,children:[{path:"edit-info",component:ot},{path:"dashboard",component:st},{path:"change-password",component:nt},{path:":id",component:rt}]}],mt=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Z({imports:[ce.forChild(xi),ce]})}}return t})();var Gr=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=te({type:t})}static{this.\u0275inj=Z({imports:[we,mt,Ie,ke,Te,Ve,Me,ze,Ke,Xe,We,Qe]})}}return t})();export{Gr as PProfileModule};
